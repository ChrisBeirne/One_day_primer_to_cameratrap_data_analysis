<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Analysis data exploration | An Introduction to Camera Trap Data Management and Analysis in R</title>
  <meta name="description" content="Materials for the three day camera trap data management and analysis course" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Analysis data exploration | An Introduction to Camera Trap Data Management and Analysis in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Materials for the three day camera trap data management and analysis course" />
  <meta name="github-repo" content="WildCoLab/Introduction-to-Camera-Trap-Data-Management-and-Analysis-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Analysis data exploration | An Introduction to Camera Trap Data Management and Analysis in R" />
  
  <meta name="twitter:description" content="Materials for the three day camera trap data management and analysis course" />
  

<meta name="author" content="Christopher Beirne and the Wildlife Coexistence Lab, UBC" />


<meta name="date" content="2022-10-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analysis-covariates.html"/>
<link rel="next" href="community-composition.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">WildCo Data Analysis Intro</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#ethos"><i class="fa fa-check"></i><b>1.1</b> Ethos</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-this-course-is"><i class="fa fa-check"></i><b>1.2</b> What this course is</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#what-this-course-is-not"><i class="fa fa-check"></i><b>1.3</b> What this course is not</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.4</b> How to use this book</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#get-in-touch"><i class="fa fa-check"></i><b>1.5</b> Get in touch</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html"><i class="fa fa-check"></i><b>2</b> Preparing for the course</a>
<ul>
<li class="chapter" data-level="2.1" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#download-r-studio"><i class="fa fa-check"></i><b>2.1</b> Download R Studio</a></li>
<li class="chapter" data-level="2.2" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#create-an-r-project"><i class="fa fa-check"></i><b>2.2</b> Create an R project</a></li>
<li class="chapter" data-level="2.3" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#download-the-data-files"><i class="fa fa-check"></i><b>2.3</b> Download the data files</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#the-example-dataset"><i class="fa fa-check"></i><b>2.3.1</b> The ‘Example’ dataset</a></li>
<li class="chapter" data-level="2.3.2" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#your-dataset"><i class="fa fa-check"></i><b>2.3.2</b> “Your” dataset</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#install-the-required-packages"><i class="fa fa-check"></i><b>2.4</b> Install the required packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html"><i class="fa fa-check"></i><b>3</b> Preprocessing and labelling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#data-storage"><i class="fa fa-check"></i><b>3.1</b> Data storage</a></li>
<li class="chapter" data-level="3.2" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#preprocessing"><i class="fa fa-check"></i><b>3.2</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#renaming"><i class="fa fa-check"></i><b>3.2.1</b> Renaming</a></li>
<li class="chapter" data-level="3.2.2" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#automated-labelers"><i class="fa fa-check"></i><b>3.2.2</b> Automated Labelers</a></li>
<li class="chapter" data-level="3.2.3" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#timelapse-extraction"><i class="fa fa-check"></i><b>3.2.3</b> Timelapse extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#labelling"><i class="fa fa-check"></i><b>3.3</b> Labelling</a></li>
<li class="chapter" data-level="3.4" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#update-deployment-end-dates"><i class="fa fa-check"></i><b>3.4</b> Update deployment end dates</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="standard.html"><a href="standard.html"><i class="fa fa-check"></i><b>4</b> Metadata standardisation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="standard.html"><a href="standard.html#the-wildlife-insights-minimum-metadata-standards"><i class="fa fa-check"></i><b>4.1</b> The Wildlife Insights Minimum Metadata Standards</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="standard.html"><a href="standard.html#project-data"><i class="fa fa-check"></i><b>4.1.1</b> Project data</a></li>
<li class="chapter" data-level="4.1.2" data-path="standard.html"><a href="standard.html#detection-data"><i class="fa fa-check"></i><b>4.1.2</b> Detection data</a></li>
<li class="chapter" data-level="4.1.3" data-path="standard.html"><a href="standard.html#deployment-data"><i class="fa fa-check"></i><b>4.1.3</b> Deployment data</a></li>
<li class="chapter" data-level="4.1.4" data-path="standard.html"><a href="standard.html#camera-inventory"><i class="fa fa-check"></i><b>4.1.4</b> Camera inventory</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="error-checking.html"><a href="error-checking.html"><i class="fa fa-check"></i><b>5</b> Error checking</a>
<ul>
<li class="chapter" data-level="5.1" data-path="error-checking.html"><a href="error-checking.html#standardised-exploration-script"><i class="fa fa-check"></i><b>5.1</b> Standardised exploration script</a></li>
<li class="chapter" data-level="5.2" data-path="error-checking.html"><a href="error-checking.html#format-your-dates"><i class="fa fa-check"></i><b>5.2</b> Format your dates</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="error-checking.html"><a href="error-checking.html#lubridate-examples"><i class="fa fa-check"></i><b>5.2.1</b> Lubridate examples</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-checking.html"><a href="error-checking.html#deployment-dates"><i class="fa fa-check"></i><b>5.2.2</b> Deployment dates</a></li>
<li class="chapter" data-level="5.2.3" data-path="error-checking.html"><a href="error-checking.html#image-dates"><i class="fa fa-check"></i><b>5.2.3</b> Image dates</a></li>
<li class="chapter" data-level="5.2.4" data-path="error-checking.html"><a href="error-checking.html#basic-summaries"><i class="fa fa-check"></i><b>5.2.4</b> Basic summaries</a></li>
<li class="chapter" data-level="5.2.5" data-path="error-checking.html"><a href="error-checking.html#quick-error-checks"><i class="fa fa-check"></i><b>5.2.5</b> Quick error checks</a></li>
<li class="chapter" data-level="5.2.6" data-path="error-checking.html"><a href="error-checking.html#camera-activity"><i class="fa fa-check"></i><b>5.2.6</b> Camera activity</a></li>
<li class="chapter" data-level="5.2.7" data-path="error-checking.html"><a href="error-checking.html#detection-check"><i class="fa fa-check"></i><b>5.2.7</b> Detection check</a></li>
<li class="chapter" data-level="5.2.8" data-path="error-checking.html"><a href="error-checking.html#taxonomy-check"><i class="fa fa-check"></i><b>5.2.8</b> Taxonomy check</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="error-checking.html"><a href="error-checking.html#diel-activity-check"><i class="fa fa-check"></i><b>5.3</b> Diel activity check</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="error-checking.html"><a href="error-checking.html#other-labelling-attributes"><i class="fa fa-check"></i><b>5.3.1</b> Other labelling attributes</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="error-checking.html"><a href="error-checking.html#common-analysis-data-formats"><i class="fa fa-check"></i><b>5.4</b> Common analysis data formats</a></li>
<li class="chapter" data-level="5.5" data-path="error-checking.html"><a href="error-checking.html#independent-detections"><i class="fa fa-check"></i><b>5.5</b> Independent detections</a></li>
<li class="chapter" data-level="5.6" data-path="error-checking.html"><a href="error-checking.html#effort-look-up"><i class="fa fa-check"></i><b>5.6</b> Effort look-up</a></li>
<li class="chapter" data-level="5.7" data-path="error-checking.html"><a href="error-checking.html#countsdetections-by-time-interval"><i class="fa fa-check"></i><b>5.7</b> Counts/detections by time interval</a></li>
<li class="chapter" data-level="5.8" data-path="error-checking.html"><a href="error-checking.html#our-data"><i class="fa fa-check"></i><b>5.8</b> Our data</a></li>
<li class="chapter" data-level="5.9" data-path="error-checking.html"><a href="error-checking.html#filter-to-target-species"><i class="fa fa-check"></i><b>5.9</b> 1) Filter to target species</a></li>
<li class="chapter" data-level="5.10" data-path="error-checking.html"><a href="error-checking.html#create-a-camera-activity-lookup"><i class="fa fa-check"></i><b>5.10</b> 2) Create a camera activity lookup</a></li>
<li class="chapter" data-level="5.11" data-path="error-checking.html"><a href="error-checking.html#determine-independent-camera-detections"><i class="fa fa-check"></i><b>5.11</b> 3)Determine ‘independent’ camera detections</a></li>
<li class="chapter" data-level="5.12" data-path="error-checking.html"><a href="error-checking.html#creating-analysis-dataframes"><i class="fa fa-check"></i><b>5.12</b> 4) Creating analysis dataframes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analysis-covariates.html"><a href="analysis-covariates.html"><i class="fa fa-check"></i><b>6</b> Analysis covariates</a>
<ul>
<li class="chapter" data-level="6.1" data-path="analysis-covariates.html"><a href="analysis-covariates.html#custom-covariates"><i class="fa fa-check"></i><b>6.1</b> Custom covariates</a></li>
<li class="chapter" data-level="6.2" data-path="analysis-covariates.html"><a href="analysis-covariates.html#species-traits"><i class="fa fa-check"></i><b>6.2</b> Species traits</a></li>
<li class="chapter" data-level="6.3" data-path="analysis-covariates.html"><a href="analysis-covariates.html#spatial-covariates"><i class="fa fa-check"></i><b>6.3</b> Spatial covariates</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html"><i class="fa fa-check"></i><b>7</b> Analysis data exploration</a>
<ul>
<li class="chapter" data-level="7.1" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#final-locations-plot"><i class="fa fa-check"></i><b>7.1</b> Final locations plot</a></li>
<li class="chapter" data-level="7.2" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#independent-detections-summary"><i class="fa fa-check"></i><b>7.2</b> Independent detections summary</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#total-number-of-captures"><i class="fa fa-check"></i><b>7.2.1</b> Total number of captures</a></li>
<li class="chapter" data-level="7.2.2" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#raw-occupancy"><i class="fa fa-check"></i><b>7.2.2</b> Raw occupancy</a></li>
<li class="chapter" data-level="7.2.3" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#comparison-plot"><i class="fa fa-check"></i><b>7.2.3</b> Comparison plot</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#temporal-patterns-in-capture-rates"><i class="fa fa-check"></i><b>7.3</b> Temporal patterns in capture rates</a></li>
<li class="chapter" data-level="7.4" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#species-specific-capture-rates"><i class="fa fa-check"></i><b>7.4</b> Species specific capture rates</a></li>
<li class="chapter" data-level="7.5" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#spatial-patterns-in-capture-rates"><i class="fa fa-check"></i><b>7.5</b> Spatial patterns in capture rates</a></li>
<li class="chapter" data-level="7.6" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#species-co-occurences"><i class="fa fa-check"></i><b>7.6</b> Species co-occurences</a></li>
<li class="chapter" data-level="7.7" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#covariate-plots"><i class="fa fa-check"></i><b>7.7</b> Covariate plots</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="community-composition.html"><a href="community-composition.html"><i class="fa fa-check"></i><b>8</b> Community composition</a>
<ul>
<li class="chapter" data-level="8.1" data-path="community-composition.html"><a href="community-composition.html#observed-richness"><i class="fa fa-check"></i><b>8.1</b> Observed richness</a></li>
<li class="chapter" data-level="8.2" data-path="community-composition.html"><a href="community-composition.html#estimated-richness"><i class="fa fa-check"></i><b>8.2</b> Estimated richness</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="community-composition.html"><a href="community-composition.html#incidence-patterns"><i class="fa fa-check"></i><b>8.2.1</b> 1) Incidence patterns</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="community-composition.html"><a href="community-composition.html#basic-results-plot"><i class="fa fa-check"></i><b>8.3</b> Basic results plot</a></li>
<li class="chapter" data-level="8.4" data-path="community-composition.html"><a href="community-composition.html#sampling-unit-based-incidence-data"><i class="fa fa-check"></i><b>8.4</b> Sampling-unit-based incidence data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="community-composition.html"><a href="community-composition.html#survey-station-example"><i class="fa fa-check"></i><b>8.4.1</b> Survey station example</a></li>
<li class="chapter" data-level="8.4.2" data-path="community-composition.html"><a href="community-composition.html#sampling-duration-example"><i class="fa fa-check"></i><b>8.4.2</b> Sampling duration example</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="community-composition.html"><a href="community-composition.html#other-diversity-metrics"><i class="fa fa-check"></i><b>8.5</b> Other diversity metrics</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="community-composition.html"><a href="community-composition.html#simpson-and-shannon"><i class="fa fa-check"></i><b>8.5.1</b> Simpson and Shannon</a></li>
<li class="chapter" data-level="8.5.2" data-path="community-composition.html"><a href="community-composition.html#extensions"><i class="fa fa-check"></i><b>8.5.2</b> Extensions</a></li>
<li class="chapter" data-level="8.5.3" data-path="community-composition.html"><a href="community-composition.html#examples-in-the-literature"><i class="fa fa-check"></i><b>8.5.3</b> Examples in the literature</a></li>
<li class="chapter" data-level="8.5.4" data-path="community-composition.html"><a href="community-composition.html#multispecies-occupancy-model"><i class="fa fa-check"></i><b>8.5.4</b> 2) Multispecies occupancy model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="habitat-use.html"><a href="habitat-use.html"><i class="fa fa-check"></i><b>9</b> Habitat use</a>
<ul>
<li class="chapter" data-level="9.1" data-path="habitat-use.html"><a href="habitat-use.html#calculating-capture-rate"><i class="fa fa-check"></i><b>9.1</b> Calculating capture rate</a></li>
<li class="chapter" data-level="9.2" data-path="habitat-use.html"><a href="habitat-use.html#single-species-models"><i class="fa fa-check"></i><b>9.2</b> Single-species models</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="habitat-use.html"><a href="habitat-use.html#simple-linear-model"><i class="fa fa-check"></i><b>9.2.1</b> Simple linear model</a></li>
<li class="chapter" data-level="9.2.2" data-path="habitat-use.html"><a href="habitat-use.html#mixed-effects-model"><i class="fa fa-check"></i><b>9.2.2</b> Mixed-effects model</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="habitat-use.html"><a href="habitat-use.html#multispecies-model"><i class="fa fa-check"></i><b>9.3</b> Multispecies model</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="habitat-use.html"><a href="habitat-use.html#hmsc"><i class="fa fa-check"></i><b>9.3.1</b> HMSC</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="habitat-use.html"><a href="habitat-use.html#example-multispecies-model"><i class="fa fa-check"></i><b>9.4</b> Example multispecies model</a></li>
<li class="chapter" data-level="9.5" data-path="habitat-use.html"><a href="habitat-use.html#further-reading"><i class="fa fa-check"></i><b>9.5</b> Further reading</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="habitat-use.html"><a href="habitat-use.html#future-additions"><i class="fa fa-check"></i><b>9.5.1</b> Future additions</a></li>
<li class="chapter" data-level="9.5.2" data-path="habitat-use.html"><a href="habitat-use.html#further-reading-1"><i class="fa fa-check"></i><b>9.5.2</b> Further reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="occupancy.html"><a href="occupancy.html"><i class="fa fa-check"></i><b>10</b> Occupancy</a>
<ul>
<li class="chapter" data-level="10.1" data-path="occupancy.html"><a href="occupancy.html#single-species-occupancy-model"><i class="fa fa-check"></i><b>10.1</b> Single species occupancy model</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="occupancy.html"><a href="occupancy.html#unmarked-package"><i class="fa fa-check"></i><b>10.1.1</b> unmarked package</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="occupancy.html"><a href="occupancy.html#multispecies-occupancy-model-1"><i class="fa fa-check"></i><b>10.2</b> Multispecies occupancy model</a></li>
<li class="chapter" data-level="10.3" data-path="occupancy.html"><a href="occupancy.html#further-reading-2"><i class="fa fa-check"></i><b>10.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="activity.html"><a href="activity.html"><i class="fa fa-check"></i><b>11</b> Activity</a>
<ul>
<li class="chapter" data-level="11.1" data-path="activity.html"><a href="activity.html#example"><i class="fa fa-check"></i><b>11.1</b> Example</a></li>
<li class="chapter" data-level="11.2" data-path="activity.html"><a href="activity.html#further-reading-3"><i class="fa fa-check"></i><b>11.2</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="behavior.html"><a href="behavior.html"><i class="fa fa-check"></i><b>12</b> Behavior</a>
<ul>
<li class="chapter" data-level="12.1" data-path="behavior.html"><a href="behavior.html#further-reading-4"><i class="fa fa-check"></i><b>12.1</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="interactions.html"><a href="interactions.html"><i class="fa fa-check"></i><b>13</b> Interactions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="interactions.html"><a href="interactions.html#worked-example"><i class="fa fa-check"></i><b>13.1</b> Worked example</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="density.html"><a href="density.html"><i class="fa fa-check"></i><b>14</b> Density</a>
<ul>
<li class="chapter" data-level="14.1" data-path="density.html"><a href="density.html#spatial-count"><i class="fa fa-check"></i><b>14.1</b> Spatial count</a></li>
<li class="chapter" data-level="14.2" data-path="density.html"><a href="density.html#time-to-event"><i class="fa fa-check"></i><b>14.2</b> Time to event</a></li>
<li class="chapter" data-level="14.3" data-path="density.html"><a href="density.html#comparison"><i class="fa fa-check"></i><b>14.3</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="phenology.html"><a href="phenology.html"><i class="fa fa-check"></i><b>15</b> Phenology</a>
<ul>
<li class="chapter" data-level="15.1" data-path="phenology.html"><a href="phenology.html#worked-example-1"><i class="fa fa-check"></i><b>15.1</b> Worked example</a></li>
<li class="chapter" data-level="15.2" data-path="phenology.html"><a href="phenology.html#further-reading-5"><i class="fa fa-check"></i><b>15.2</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="phenology-1.html"><a href="phenology-1.html"><i class="fa fa-check"></i><b>16</b> Phenology</a>
<ul>
<li class="chapter" data-level="16.1" data-path="phenology-1.html"><a href="phenology-1.html#worked-example-2"><i class="fa fa-check"></i><b>16.1</b> Worked example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to Camera Trap Data Management and Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analysis-data-exploration" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Analysis data exploration<a href="analysis-data-exploration.html#analysis-data-exploration" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In the error checking section we focused our ‘data exploration’ on figures which would help us find errors, now we want to shift gears and create plots which actually tell us about our final, independent data.</p>
<p>All of the data we will be analysing from this point onwards will come from the <code>data/processed_data/</code> folder!</p>
<div id="final-locations-plot" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Final locations plot<a href="analysis-data-exploration.html#final-locations-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So lets read in the <code>camera_locations.csv</code> and plot the final survey locations in leaflet:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="analysis-data-exploration.html#cb1-1" aria-hidden="true" tabindex="-1"></a>locs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_camera_locations.csv&quot;</span>)</span>
<span id="cb1-2"><a href="analysis-data-exploration.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(locs)</span></code></pre></div>
<pre><code>##                project_id placename longitude latitude feature_type
## 1 AlgarRestorationProject    ALG001 -112.5752 56.47384      Control
## 2 AlgarRestorationProject    ALG002 -112.5336 56.48237      Control
## 3 AlgarRestorationProject    ALG003 -112.5220 56.46116      Control
## 4 AlgarRestorationProject    ALG004 -112.6371 56.40338      Control
## 5 AlgarRestorationProject    ALG005 -112.3921 56.16636      Control
## 6 AlgarRestorationProject    ALG006 -112.3915 56.22146      Control</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="analysis-data-exploration.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If you want to colour by a category do it here:</span></span>
<span id="cb3-2"><a href="analysis-data-exploration.html#cb3-2" aria-hidden="true" tabindex="-1"></a>category <span class="ot">&lt;-</span> <span class="st">&quot;feature_type&quot;</span></span>
<span id="cb3-3"><a href="analysis-data-exploration.html#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># First lets choose a category to colour</span></span>
<span id="cb3-4"><a href="analysis-data-exploration.html#cb3-4" aria-hidden="true" tabindex="-1"></a>locs[,category] <span class="ot">&lt;-</span> <span class="fu">factor</span>(locs[,category])</span>
<span id="cb3-5"><a href="analysis-data-exploration.html#cb3-5" aria-hidden="true" tabindex="-1"></a>col.cat <span class="ot">&lt;-</span> <span class="fu">turbo</span>(<span class="fu">length</span>(<span class="fu">levels</span>(locs[,category])))</span>
<span id="cb3-6"><a href="analysis-data-exploration.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add it to the dataframe</span></span>
<span id="cb3-7"><a href="analysis-data-exploration.html#cb3-7" aria-hidden="true" tabindex="-1"></a>locs<span class="sc">$</span>colours <span class="ot">&lt;-</span> col.cat[locs[,category]]</span>
<span id="cb3-8"><a href="analysis-data-exploration.html#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="analysis-data-exploration.html#cb3-9" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="analysis-data-exploration.html#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a satellite image layer</span></span>
<span id="cb3-11"><a href="analysis-data-exploration.html#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldImagery, <span class="at">group=</span><span class="st">&quot;Satellite&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb3-12"><a href="analysis-data-exploration.html#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldTopoMap, <span class="at">group=</span><span class="st">&quot;Base&quot;</span>) <span class="sc">%&gt;%</span>     </span>
<span id="cb3-13"><a href="analysis-data-exploration.html#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(<span class="at">lng=</span>locs<span class="sc">$</span>longitude, <span class="at">lat=</span>locs<span class="sc">$</span>latitude,</span>
<span id="cb3-14"><a href="analysis-data-exploration.html#cb3-14" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># Colour the markers depending on the &#39;feature type&#39;</span></span>
<span id="cb3-15"><a href="analysis-data-exploration.html#cb3-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span>locs<span class="sc">$</span>colours,</span>
<span id="cb3-16"><a href="analysis-data-exploration.html#cb3-16" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># Add a popup of the deployment code </span></span>
<span id="cb3-17"><a href="analysis-data-exploration.html#cb3-17" aria-hidden="true" tabindex="-1"></a>                   <span class="at">popup=</span><span class="fu">paste</span>(locs<span class="sc">$</span>placename, locs[,category])) <span class="sc">%&gt;%</span></span>
<span id="cb3-18"><a href="analysis-data-exploration.html#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a legend explaining what is going on</span></span>
<span id="cb3-19"><a href="analysis-data-exploration.html#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLegend</span>(<span class="st">&quot;bottomleft&quot;</span>, <span class="at">colors =</span> col.cat,  <span class="at">labels =</span> <span class="fu">levels</span>(locs[,category]),</span>
<span id="cb3-20"><a href="analysis-data-exploration.html#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> category,</span>
<span id="cb3-21"><a href="analysis-data-exploration.html#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">labFormat =</span> <span class="fu">labelFormat</span>(<span class="at">prefix =</span> <span class="st">&quot;$&quot;</span>),</span>
<span id="cb3-22"><a href="analysis-data-exploration.html#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span></span>
<span id="cb3-23"><a href="analysis-data-exploration.html#cb3-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-24"><a href="analysis-data-exploration.html#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add a layer control box to toggle between the layers</span></span>
<span id="cb3-25"><a href="analysis-data-exploration.html#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addLayersControl</span>(</span>
<span id="cb3-26"><a href="analysis-data-exploration.html#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">baseGroups =</span> <span class="fu">c</span>(<span class="st">&quot;Satellite&quot;</span>, <span class="st">&quot;Base&quot;</span>),</span>
<span id="cb3-27"><a href="analysis-data-exploration.html#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">layersControlOptions</span>(<span class="at">collapsed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-28"><a href="analysis-data-exploration.html#cb3-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-29"><a href="analysis-data-exploration.html#cb3-29" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<div id="htmlwidget-fe3a0e79bd2aca11c906" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-fe3a0e79bd2aca11c906">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,"Satellite",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Base",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[56.47384208,56.4823693,56.46116249,56.40338335,56.16636299,56.22146106,56.23556356,56.24258651,56.24486522,56.24347895,56.40871227,56.37446433,56.44198334,56.41709099,56.44853526,56.20973949,56.23559089,56.23561099,56.2555515,56.25553072,56.35450177,56.37504176,56.44845453,56.27177919,56.37038345,56.38120775,56.33279633,56.38978112,56.3947384,56.3433771,56.30899115,56.40196543,56.39714872,56.22248414,56.38427981,56.23177668,56.27897671,56.27038626,56.30127467,56.27852291,56.3250952,56.29712466,56.38715078,56.47314996,56.43667907,56.33379516,56.21704844,56.23532818,56.37320857,56.29722295,56.28664155,56.34019101,56.45544966,56.421884,56.35276482,56.42602126,56.16541237,56.41724102,56.36631122,56.35477698,56.15983008,56.20002261,56.2308028,56.27622558,56.35152984,56.3239189,56.35670497,56.36418948,56.49351647,56.45203396,56.42405201,56.42079233,56.30917208],[-112.575206,-112.5335813,-112.5219822,-112.6371487,-112.3921052,-112.3914894,-112.4156854,-112.4152345,-112.4342807,-112.4937279,-112.5999374,-112.6209455,-112.4762004,-112.4779271,-112.639301,-112.3934671,-112.4211398,-112.434193,-112.4948277,-112.4412819,-112.6019876,-112.6097317,-112.5797041,-112.4503068,-112.4628419,-112.507374,-112.4735026,-112.5080206,-112.548348,-112.4105511,-112.4819778,-112.3967723,-112.3944248,-112.4011552,-112.4760892,-112.4057856,-112.4449259,-112.4791766,-112.4094357,-112.5122639,-112.4445492,-112.3966297,-112.5842114,-112.6046929,-112.5018971,-112.5607123,-112.4563346,-112.4553341,-112.5483653,-112.4862249,-112.4479938,-112.4453138,-112.5515799,-112.6467312,-112.5868312,-112.605999,-112.4266152,-112.6308865,-112.4953724,-112.5180163,-112.4415123,-112.4104105,-112.4785381,-112.3965139,-112.3847975,-112.3950852,-112.5517103,-112.4737099,-112.5074726,-112.5314177,-112.5802163,-112.5465368,-112.436108],10,null,null,{"interactive":true,"className":"","stroke":true,"color":["#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#28BBECFF","#7A0403FF","#28BBECFF","#7A0403FF","#28BBECFF","#28BBECFF","#7A0403FF","#A2FC3CFF","#28BBECFF","#A2FC3CFF","#28BBECFF","#28BBECFF","#28BBECFF","#7A0403FF","#7A0403FF","#7A0403FF","#A2FC3CFF","#28BBECFF","#28BBECFF","#A2FC3CFF","#28BBECFF","#28BBECFF","#A2FC3CFF","#7A0403FF","#7A0403FF","#A2FC3CFF","#A2FC3CFF","#A2FC3CFF","#28BBECFF","#A2FC3CFF","#A2FC3CFF","#A2FC3CFF","#A2FC3CFF","#28BBECFF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#30123BFF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#7A0403FF","#28BBECFF","#7A0403FF","#28BBECFF","#7A0403FF","#28BBECFF","#28BBECFF","#7A0403FF","#A2FC3CFF","#28BBECFF","#A2FC3CFF","#28BBECFF","#28BBECFF","#28BBECFF","#7A0403FF","#7A0403FF","#7A0403FF","#A2FC3CFF","#28BBECFF","#28BBECFF","#A2FC3CFF","#28BBECFF","#28BBECFF","#A2FC3CFF","#7A0403FF","#7A0403FF","#A2FC3CFF","#A2FC3CFF","#A2FC3CFF","#28BBECFF","#A2FC3CFF","#A2FC3CFF","#A2FC3CFF","#A2FC3CFF","#28BBECFF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF","#FB8022FF"],"fillOpacity":0.2},null,null,["ALG001 Control","ALG002 Control","ALG003 Control","ALG004 Control","ALG005 Control","ALG006 Control","ALG007 Control","ALG008 Control","ALG009 Control","ALG010 Control","ALG011 Control","ALG012 Control","ALG013 SPP","ALG014 SPP","ALG015 SPP","ALG016 SPP","ALG017 SPP","ALG018 SPP","ALG019 SPP","ALG020 SPP","ALG021 SPP","ALG022 SPP","ALG023 SPP","ALG024 SPP","ALG025 SPP","ALG026 SPP","ALG027 HumanUse","ALG028 SPP","ALG029 HumanUse","ALG030 SPP","ALG031 HumanUse","ALG032 HumanUse","ALG033 SPP","ALG034 NatRegen","ALG035 HumanUse","ALG036 NatRegen","ALG037 HumanUse","ALG038 HumanUse","ALG039 HumanUse","ALG040 SPP","ALG041 SPP","ALG042 SPP","ALG043 NatRegen","ALG044 HumanUse","ALG045 HumanUse","ALG046 NatRegen","ALG047 HumanUse","ALG048 HumanUse","ALG049 NatRegen","ALG050 SPP","ALG051 SPP","ALG052 NatRegen","ALG053 NatRegen","ALG054 NatRegen","ALG055 HumanUse","ALG056 NatRegen","ALG057 NatRegen","ALG058 NatRegen","ALG059 NatRegen","ALG060 HumanUse","ALG061 Offline","ALG062 Offline","ALG063 Offline","ALG064 Offline","ALG065 Offline","ALG066 Offline","ALG067 Offline","ALG068 Offline","ALG069 Offline","ALG070 Offline","ALG071 Offline","ALG072 Offline","ALG073 Offline"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#30123BFF","#28BBECFF","#A2FC3CFF","#FB8022FF","#7A0403FF"],"labels":["Control","HumanUse","NatRegen","Offline","SPP"],"na_color":null,"na_label":"NA","opacity":1,"position":"bottomleft","type":"unknown","title":"feature_type","extra":null,"layerId":null,"className":"info legend","group":null}]},{"method":"addLayersControl","args":[["Satellite","Base"],[],{"collapsed":false,"autoZIndex":true,"position":"topright"}]}],"limits":{"lat":[56.15983008,56.49351647],"lng":[-112.6467312,-112.3847975]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="independent-detections-summary" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Independent detections summary<a href="analysis-data-exploration.html#independent-detections-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you are writing papers based on camera data, you often put a summary table in the appendix. We will use the species list we created to append summary information as we go. This also allows us to create plots with common names very easily!</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="analysis-data-exploration.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Also read in the species list</span></span>
<span id="cb4-2"><a href="analysis-data-exploration.html#cb4-2" aria-hidden="true" tabindex="-1"></a>sp_summary <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_species_list.csv&quot;</span>, <span class="at">header=</span>T)</span></code></pre></div>
<div id="total-number-of-captures" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Total number of captures<a href="analysis-data-exploration.html#total-number-of-captures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To summarise the wildlife detections in this project we can make use of the <code>total_observations.csv</code> files:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="analysis-data-exploration.html#cb5-1" aria-hidden="true" tabindex="-1"></a>total_obs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_30min_independent_total_observations.csv&quot;</span>, <span class="at">header=</span>T)</span></code></pre></div>
<p>The format of the output tables is what we would call ‘wide’ we have the values for differnt species as columns. This format is sometimes useful, other times we might want a “longer” format where every observation a unique species_site combination. We can do this using the ‘pivot_longer’ function:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="analysis-data-exploration.html#cb6-1" aria-hidden="true" tabindex="-1"></a>long_obs <span class="ot">&lt;-</span> total_obs <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="analysis-data-exploration.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span>sp_summary<span class="sc">$</span>sp, <span class="at">names_to=</span><span class="st">&quot;sp&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;count&quot;</span>) <span class="co"># Takes the species names columns, and makes them unique rows with &quot;sp&quot; as the key </span></span>
<span id="cb6-3"><a href="analysis-data-exploration.html#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="analysis-data-exploration.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># We can them summarise those using dplyr</span></span>
<span id="cb6-5"><a href="analysis-data-exploration.html#cb6-5" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> long_obs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(sp) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">count=</span><span class="fu">sum</span>(count))</span>
<span id="cb6-6"><a href="analysis-data-exploration.html#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="analysis-data-exploration.html#cb6-7" aria-hidden="true" tabindex="-1"></a>sp_summary <span class="ot">&lt;-</span> <span class="fu">left_join</span>(sp_summary, tmp)</span></code></pre></div>
<pre><code>## Joining, by = &quot;sp&quot;</code></pre>
</div>
<div id="raw-occupancy" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Raw occupancy<a href="analysis-data-exploration.html#raw-occupancy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can very quickly flip a count to a presence absence using <code>as.logical</code> this converts and intergers to 1 and keeps 0’s as 0!</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="analysis-data-exploration.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we can very </span></span>
<span id="cb8-2"><a href="analysis-data-exploration.html#cb8-2" aria-hidden="true" tabindex="-1"></a>total_binary <span class="ot">&lt;-</span>  total_obs <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(sp_summary<span class="sc">$</span>sp, <span class="sc">~+</span><span class="fu">as.logical</span>(.x)))</span></code></pre></div>
<p>Now when we do the same calculations as before, we can calculate the number of sites occupied:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="analysis-data-exploration.html#cb9-1" aria-hidden="true" tabindex="-1"></a>long_bin <span class="ot">&lt;-</span> total_binary <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="analysis-data-exploration.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span>sp_summary<span class="sc">$</span>sp, <span class="at">names_to=</span><span class="st">&quot;sp&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;count&quot;</span>) <span class="co"># Takes the species names columns, and makes them unique rows with &quot;sp&quot; as the key </span></span>
<span id="cb9-3"><a href="analysis-data-exploration.html#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="analysis-data-exploration.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># We can them summarise those using dplyr - this time dividing by the number of locations</span></span>
<span id="cb9-5"><a href="analysis-data-exploration.html#cb9-5" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> long_bin <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(sp) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">occupancy=</span><span class="fu">sum</span>(count)<span class="sc">/</span><span class="fu">nrow</span>(locs))</span>
<span id="cb9-6"><a href="analysis-data-exploration.html#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="analysis-data-exploration.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># add the results to the sp_summary</span></span>
<span id="cb9-8"><a href="analysis-data-exploration.html#cb9-8" aria-hidden="true" tabindex="-1"></a>sp_summary <span class="ot">&lt;-</span> <span class="fu">left_join</span>(sp_summary, tmp)</span></code></pre></div>
<pre><code>## Joining, by = &quot;sp&quot;</code></pre>
</div>
<div id="comparison-plot" class="section level3 hasAnchor" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Comparison plot<a href="analysis-data-exploration.html#comparison-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Then we can use the dataframe created above to summaries the detections and the occupancy patterns.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="analysis-data-exploration.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets put the dataframes in a sensible order</span></span>
<span id="cb11-2"><a href="analysis-data-exploration.html#cb11-2" aria-hidden="true" tabindex="-1"></a>sp_summary <span class="ot">&lt;-</span> sp_summary[<span class="fu">order</span>(sp_summary<span class="sc">$</span>count),]</span>
<span id="cb11-3"><a href="analysis-data-exploration.html#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="analysis-data-exploration.html#cb11-4" aria-hidden="true" tabindex="-1"></a>yform <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">categoryorder =</span> <span class="st">&quot;array&quot;</span>,</span>
<span id="cb11-5"><a href="analysis-data-exploration.html#cb11-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">categoryarray =</span> sp_summary<span class="sc">$</span>common_name<span class="co">#,</span></span>
<span id="cb11-6"><a href="analysis-data-exploration.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#             tickfont = list(size = 7),</span></span>
<span id="cb11-7"><a href="analysis-data-exploration.html#cb11-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-8"><a href="analysis-data-exploration.html#cb11-8" aria-hidden="true" tabindex="-1"></a>xform <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;Captures&quot;</span>)</span>
<span id="cb11-9"><a href="analysis-data-exploration.html#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="analysis-data-exploration.html#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Capture rate</span></span>
<span id="cb11-11"><a href="analysis-data-exploration.html#cb11-11" aria-hidden="true" tabindex="-1"></a>fig1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">x =</span> sp_summary<span class="sc">$</span>count, <span class="at">y =</span> sp_summary<span class="sc">$</span>common_name, <span class="at">type =</span> <span class="st">&#39;bar&#39;</span>, <span class="at">orientation =</span> <span class="st">&#39;h&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-12"><a href="analysis-data-exploration.html#cb11-12" aria-hidden="true" tabindex="-1"></a> <span class="fu">layout</span>(<span class="at">yaxis =</span> yform, <span class="at">xaxis=</span>xform)</span>
<span id="cb11-13"><a href="analysis-data-exploration.html#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="analysis-data-exploration.html#cb11-14" aria-hidden="true" tabindex="-1"></a>yform <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">categoryorder =</span> <span class="st">&quot;array&quot;</span>,</span>
<span id="cb11-15"><a href="analysis-data-exploration.html#cb11-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">categoryarray =</span> sp_summary<span class="sc">$</span>common_name,</span>
<span id="cb11-16"><a href="analysis-data-exploration.html#cb11-16" aria-hidden="true" tabindex="-1"></a>              <span class="at">showticklabels=</span>F)</span>
<span id="cb11-17"><a href="analysis-data-exploration.html#cb11-17" aria-hidden="true" tabindex="-1"></a>xform <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&quot;Occupancy&quot;</span>)</span>
<span id="cb11-18"><a href="analysis-data-exploration.html#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="analysis-data-exploration.html#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="analysis-data-exploration.html#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Occupancy</span></span>
<span id="cb11-21"><a href="analysis-data-exploration.html#cb11-21" aria-hidden="true" tabindex="-1"></a>fig2 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">x =</span> sp_summary<span class="sc">$</span>occupancy, <span class="at">y =</span> sp_summary<span class="sc">$</span>common_name, <span class="at">type =</span> <span class="st">&#39;bar&#39;</span>, <span class="at">orientation =</span> <span class="st">&#39;h&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-22"><a href="analysis-data-exploration.html#cb11-22" aria-hidden="true" tabindex="-1"></a> <span class="fu">layout</span>(<span class="at">yaxis =</span> yform, <span class="at">xaxis=</span>xform)</span>
<span id="cb11-23"><a href="analysis-data-exploration.html#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="analysis-data-exploration.html#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="fu">subplot</span>(fig1, fig2, <span class="at">titleX =</span> T)</span></code></pre></div>
<div id="htmlwidget-f5f4bec8da4120fde1bd" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f5f4bec8da4120fde1bd">{"x":{"data":[{"x":[1,1,2,3,4,4,6,9,24,89,125,158,181,468,508,544,792,855,1829],"y":["puma","woodchuck","elk","wolverine","Northern American river otter","American beaver","rabbit","fisher","red fox","American marten","American red squirrel","coyote","Canada lynx","reindeer","gray wolf","Eurasian elk","snowshoe hare","American black bear","white-tailed deer"],"orientation":"h","type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.0136986301369863,0.0136986301369863,0.0273972602739726,0.0273972602739726,0.0410958904109589,0.0410958904109589,0.0684931506849315,0.0958904109589041,0.205479452054795,0.452054794520548,0.219178082191781,0.342465753424658,0.657534246575342,0.561643835616438,0.753424657534247,0.863013698630137,0.589041095890411,0.904109589041096,0.808219178082192],"y":["puma","woodchuck","elk","wolverine","Northern American river otter","American beaver","rabbit","fisher","red fox","American marten","American red squirrel","coyote","Canada lynx","reindeer","gray wolf","Eurasian elk","snowshoe hare","American black bear","white-tailed deer"],"orientation":"h","type":"bar","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,0.48],"automargin":true,"title":"Captures","anchor":"y"},"xaxis2":{"domain":[0.52,1],"automargin":true,"title":"Occupancy","anchor":"y2"},"yaxis2":{"domain":[0,1],"automargin":true,"categoryorder":"array","categoryarray":["puma","woodchuck","elk","wolverine","Northern American river otter","American beaver","rabbit","fisher","red fox","American marten","American red squirrel","coyote","Canada lynx","reindeer","gray wolf","Eurasian elk","snowshoe hare","American black bear","white-tailed deer"],"showticklabels":false,"type":"category","anchor":"x2"},"yaxis":{"domain":[0,1],"automargin":true,"categoryorder":"array","categoryarray":["puma","woodchuck","elk","wolverine","Northern American river otter","American beaver","rabbit","fisher","red fox","American marten","American red squirrel","coyote","Canada lynx","reindeer","gray wolf","Eurasian elk","snowshoe hare","American black bear","white-tailed deer"],"type":"category","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true},"attrs":{"730825ab395c":{"x":[1,1,2,3,4,4,6,9,24,89,125,158,181,468,508,544,792,855,1829],"y":["puma","woodchuck","elk","wolverine","Northern American river otter","American beaver","rabbit","fisher","red fox","American marten","American red squirrel","coyote","Canada lynx","reindeer","gray wolf","Eurasian elk","snowshoe hare","American black bear","white-tailed deer"],"orientation":"h","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"730848db746a":{"x":[0.0136986301369863,0.0136986301369863,0.0273972602739726,0.0273972602739726,0.0410958904109589,0.0410958904109589,0.0684931506849315,0.0958904109589041,0.205479452054795,0.452054794520548,0.219178082191781,0.342465753424658,0.657534246575342,0.561643835616438,0.753424657534247,0.863013698630137,0.589041095890411,0.904109589041096,0.808219178082192],"y":["puma","woodchuck","elk","wolverine","Northern American river otter","American beaver","rabbit","fisher","red fox","American marten","American red squirrel","coyote","Canada lynx","reindeer","gray wolf","Eurasian elk","snowshoe hare","American black bear","white-tailed deer"],"orientation":"h","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="temporal-patterns-in-capture-rates" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Temporal patterns in capture rates<a href="analysis-data-exploration.html#temporal-patterns-in-capture-rates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next lets summarise the temporal patterns in the number of sites (placenames) surveyed, and the total number of animals captured. We will use the monthly dataframes in order to do this, but you could do it at the weekly or daily scale if required!</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="analysis-data-exploration.html#cb12-1" aria-hidden="true" tabindex="-1"></a>mon_obs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_30min_independent_monthly_observations.csv&quot;</span>, <span class="at">header=</span>T)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="analysis-data-exploration.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count up the number of stations and the number of camera nights</span></span>
<span id="cb13-2"><a href="analysis-data-exploration.html#cb13-2" aria-hidden="true" tabindex="-1"></a>mon_summary <span class="ot">&lt;-</span> mon_obs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">locs_active=</span><span class="fu">n</span>(), <span class="at">cam_days=</span><span class="fu">sum</span>(days))</span>
<span id="cb13-3"><a href="analysis-data-exploration.html#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="analysis-data-exploration.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add in the species specific counts</span></span>
<span id="cb13-5"><a href="analysis-data-exploration.html#cb13-5" aria-hidden="true" tabindex="-1"></a>mon_summary <span class="ot">&lt;-</span> mon_obs <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span>  </span>
<span id="cb13-6"><a href="analysis-data-exploration.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(sp_summary<span class="sc">$</span>sp, sum, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-7"><a href="analysis-data-exploration.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="at">x=</span>mon_summary)</span></code></pre></div>
<pre><code>## Joining, by = &quot;date&quot;</code></pre>
<p>Now lets use lubridate to create a date object and plot the output</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="analysis-data-exploration.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets make each mon</span></span>
<span id="cb15-2"><a href="analysis-data-exploration.html#cb15-2" aria-hidden="true" tabindex="-1"></a>mon_summary<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">ym</span>(mon_summary<span class="sc">$</span>date)</span>
<span id="cb15-3"><a href="analysis-data-exploration.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="analysis-data-exploration.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb15-5"><a href="analysis-data-exploration.html#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="analysis-data-exploration.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mon_summary<span class="sc">$</span>date, mon_summary<span class="sc">$</span>locs_active,</span>
<span id="cb15-7"><a href="analysis-data-exploration.html#cb15-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">&quot;l&quot;</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(mon_summary<span class="sc">$</span>locs_active)),</span>
<span id="cb15-8"><a href="analysis-data-exploration.html#cb15-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">las=</span><span class="dv">1</span>, <span class="at">ylab=</span><span class="st">&quot;Number of cameras active&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Date&quot;</span>,</span>
<span id="cb15-9"><a href="analysis-data-exploration.html#cb15-9" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb15-10"><a href="analysis-data-exploration.html#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(mon_summary<span class="sc">$</span>date, mon_summary<span class="sc">$</span>locs_active, <span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb15-11"><a href="analysis-data-exploration.html#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="analysis-data-exploration.html#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="analysis-data-exploration.html#cb15-13" aria-hidden="true" tabindex="-1"></a>mon_summary<span class="sc">$</span>all.sp <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(mon_summary[, sp_summary<span class="sc">$</span>sp])</span>
<span id="cb15-14"><a href="analysis-data-exploration.html#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="analysis-data-exploration.html#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mon_summary<span class="sc">$</span>date, mon_summary<span class="sc">$</span>all.sp<span class="sc">/</span>(mon_summary<span class="sc">$</span>cam_days<span class="sc">/</span><span class="dv">100</span>),</span>
<span id="cb15-16"><a href="analysis-data-exploration.html#cb15-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">&quot;l&quot;</span>, </span>
<span id="cb15-17"><a href="analysis-data-exploration.html#cb15-17" aria-hidden="true" tabindex="-1"></a>     <span class="at">las=</span><span class="dv">1</span>, <span class="at">ylab=</span><span class="st">&quot;Detections per 100 cam days&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Date&quot;</span>)</span>
<span id="cb15-18"><a href="analysis-data-exploration.html#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(mon_summary<span class="sc">$</span>date, mon_summary<span class="sc">$</span>all.sp<span class="sc">/</span>(mon_summary<span class="sc">$</span>cam_days<span class="sc">/</span><span class="dv">100</span>), <span class="at">pch=</span><span class="dv">19</span>)</span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="species-specific-capture-rates" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Species specific capture rates<a href="analysis-data-exploration.html#species-specific-capture-rates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="analysis-data-exploration.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb16-2"><a href="analysis-data-exploration.html#cb16-2" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb16-3"><a href="analysis-data-exploration.html#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sp_summary<span class="sc">$</span>sp))</span>
<span id="cb16-4"><a href="analysis-data-exploration.html#cb16-4" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb16-5"><a href="analysis-data-exploration.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(mon_summary<span class="sc">$</span>date, <span class="fu">pull</span>(mon_summary, sp_summary<span class="sc">$</span>sp[i])<span class="sc">/</span>(mon_summary<span class="sc">$</span>cam_days<span class="sc">/</span><span class="dv">100</span>),  <span class="co"># The pull commmand allows you to grab a specific column in a dataframe and turn it into a vector!</span></span>
<span id="cb16-6"><a href="analysis-data-exploration.html#cb16-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">&quot;l&quot;</span>, </span>
<span id="cb16-7"><a href="analysis-data-exploration.html#cb16-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">las=</span><span class="dv">1</span>, <span class="at">ylab=</span><span class="st">&quot;Detections per 100 cam days&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Date&quot;</span>,</span>
<span id="cb16-8"><a href="analysis-data-exploration.html#cb16-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span>sp_summary<span class="sc">$</span>sp[i])</span>
<span id="cb16-9"><a href="analysis-data-exploration.html#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(mon_summary<span class="sc">$</span>date, <span class="fu">pull</span>(mon_summary, sp_summary<span class="sc">$</span>sp[i])<span class="sc">/</span>(mon_summary<span class="sc">$</span>cam_days<span class="sc">/</span><span class="dv">100</span>), <span class="at">pch=</span><span class="dv">19</span>)</span>
<span id="cb16-10"><a href="analysis-data-exploration.html#cb16-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-11"><a href="analysis-data-exploration.html#cb16-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-13-1.png" width="672" /><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-13-2.png" width="672" /><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-13-3.png" width="672" /><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-13-4.png" width="672" /><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-13-5.png" width="672" /></p>
<p>Can you see any interesting patterns in here?</p>
</div>
<div id="spatial-patterns-in-capture-rates" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Spatial patterns in capture rates<a href="analysis-data-exploration.html#spatial-patterns-in-capture-rates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We also often want to explore if there are any spatial patterns in capture rates, these can hint at any ecological relationships we might want to explore further. Here we do it for just a single species, the white-tiled deer.</p>
<p>Here we make use of the ‘total_obs’ data frame we imported earlier. We also use the ‘locs’ dataframe.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="analysis-data-exploration.html#cb17-1" aria-hidden="true" tabindex="-1"></a>total_obs <span class="ot">&lt;-</span> <span class="fu">left_join</span>(total_obs, locs)</span></code></pre></div>
<pre><code>## Joining, by = &quot;placename&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="analysis-data-exploration.html#cb19-1" aria-hidden="true" tabindex="-1"></a>focal_species <span class="ot">&lt;-</span> <span class="st">&quot;Odocoileus.virginianus&quot;</span></span>
<span id="cb19-2"><a href="analysis-data-exploration.html#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="analysis-data-exploration.html#cb19-3" aria-hidden="true" tabindex="-1"></a>focal_cr <span class="ot">&lt;-</span> <span class="fu">pull</span>(total_obs, focal_species)<span class="sc">/</span>(total_obs<span class="sc">$</span>days<span class="sc">/</span><span class="dv">100</span>)</span>
<span id="cb19-4"><a href="analysis-data-exploration.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="analysis-data-exploration.html#cb19-5" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="analysis-data-exploration.html#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldTopoMap, <span class="at">group=</span><span class="st">&quot;Base&quot;</span>) <span class="sc">%&gt;%</span>     </span>
<span id="cb19-7"><a href="analysis-data-exploration.html#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircleMarkers</span>(<span class="at">lng=</span>locs<span class="sc">$</span>longitude, <span class="at">lat=</span>locs<span class="sc">$</span>latitude,</span>
<span id="cb19-8"><a href="analysis-data-exploration.html#cb19-8" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># Add a popup of the deployment code </span></span>
<span id="cb19-9"><a href="analysis-data-exploration.html#cb19-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">popup=</span><span class="fu">paste</span>(locs<span class="sc">$</span>placename),</span>
<span id="cb19-10"><a href="analysis-data-exploration.html#cb19-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">radius=</span>(focal_cr<span class="sc">/</span><span class="fu">max</span>(focal_cr)<span class="sc">*</span><span class="dv">10</span>)<span class="sc">+</span><span class="dv">1</span>, <span class="at">stroke=</span>F,</span>
<span id="cb19-11"><a href="analysis-data-exploration.html#cb19-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fillOpacity=</span><span class="fl">0.6</span>) </span>
<span id="cb19-12"><a href="analysis-data-exploration.html#cb19-12" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<div id="htmlwidget-ae7856ee1a503ec9c0f7" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-ae7856ee1a503ec9c0f7">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Base",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[56.47384208,56.4823693,56.46116249,56.40338335,56.16636299,56.22146106,56.23556356,56.24258651,56.24486522,56.24347895,56.40871227,56.37446433,56.44198334,56.41709099,56.44853526,56.20973949,56.23559089,56.23561099,56.2555515,56.25553072,56.35450177,56.37504176,56.44845453,56.27177919,56.37038345,56.38120775,56.33279633,56.38978112,56.3947384,56.3433771,56.30899115,56.40196543,56.39714872,56.22248414,56.38427981,56.23177668,56.27897671,56.27038626,56.30127467,56.27852291,56.3250952,56.29712466,56.38715078,56.47314996,56.43667907,56.33379516,56.21704844,56.23532818,56.37320857,56.29722295,56.28664155,56.34019101,56.45544966,56.421884,56.35276482,56.42602126,56.16541237,56.41724102,56.36631122,56.35477698,56.15983008,56.20002261,56.2308028,56.27622558,56.35152984,56.3239189,56.35670497,56.36418948,56.49351647,56.45203396,56.42405201,56.42079233,56.30917208],[-112.575206,-112.5335813,-112.5219822,-112.6371487,-112.3921052,-112.3914894,-112.4156854,-112.4152345,-112.4342807,-112.4937279,-112.5999374,-112.6209455,-112.4762004,-112.4779271,-112.639301,-112.3934671,-112.4211398,-112.434193,-112.4948277,-112.4412819,-112.6019876,-112.6097317,-112.5797041,-112.4503068,-112.4628419,-112.507374,-112.4735026,-112.5080206,-112.548348,-112.4105511,-112.4819778,-112.3967723,-112.3944248,-112.4011552,-112.4760892,-112.4057856,-112.4449259,-112.4791766,-112.4094357,-112.5122639,-112.4445492,-112.3966297,-112.5842114,-112.6046929,-112.5018971,-112.5607123,-112.4563346,-112.4553341,-112.5483653,-112.4862249,-112.4479938,-112.4453138,-112.5515799,-112.6467312,-112.5868312,-112.605999,-112.4266152,-112.6308865,-112.4953724,-112.5180163,-112.4415123,-112.4104105,-112.4785381,-112.3965139,-112.3847975,-112.3950852,-112.5517103,-112.4737099,-112.5074726,-112.5314177,-112.5802163,-112.5465368,-112.436108],[1.46534017971759,1.6612728869671,1.05738029283736,3.34774296750029,1.93306449635967,11,1.15622119484674,1.89761947937445,1,2.56235163955068,1.21908839083354,4.59586535835512,1.0282860598494,1.03391143010088,1.42654376976442,2.10063010956635,1.08166321796883,1.03533683723122,1.02740681159025,1.04895001284703,2.22105263157895,2.34795060800977,2.46816904507135,1.04898317681238,1,1.75243479023828,1.37655817174515,1.35986011707048,2.70115691706045,2.27450458129128,1.06536995386534,1.09601483263621,1.06548837769481,1.55757713862521,1.03950774260933,1.46781815219162,1,1,1,1.5688775813489,1.27716001250027,1,2.47549324438917,1.57762318755049,1.03895429362881,2.23110040050428,1.99331537355345,1.04376463013019,1.89952309766805,1,1,3.52387002329726,1.03280361568742,3.29001892681215,2.07337048319297,1.22900189268121,2.28941193076557,2.97636893321511,1,1,6.81324399191435,3.59637899634227,2.3622992808223,1,1,1.04885078984802,1.2004598030732,1,5.15231713708168,1.26006895314773,3.31922020422119,1.24326772871827,1],null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.6},null,null,["ALG001","ALG002","ALG003","ALG004","ALG005","ALG006","ALG007","ALG008","ALG009","ALG010","ALG011","ALG012","ALG013","ALG014","ALG015","ALG016","ALG017","ALG018","ALG019","ALG020","ALG021","ALG022","ALG023","ALG024","ALG025","ALG026","ALG027","ALG028","ALG029","ALG030","ALG031","ALG032","ALG033","ALG034","ALG035","ALG036","ALG037","ALG038","ALG039","ALG040","ALG041","ALG042","ALG043","ALG044","ALG045","ALG046","ALG047","ALG048","ALG049","ALG050","ALG051","ALG052","ALG053","ALG054","ALG055","ALG056","ALG057","ALG058","ALG059","ALG060","ALG061","ALG062","ALG063","ALG064","ALG065","ALG066","ALG067","ALG068","ALG069","ALG070","ALG071","ALG072","ALG073"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[56.15983008,56.49351647],"lng":[-112.6467312,-112.3847975]}},"evals":[],"jsHooks":[]}</script>
<p>Try it for some different species. Can you see any different patterns?</p>
</div>
<div id="species-co-occurences" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Species co-occurences<a href="analysis-data-exploration.html#species-co-occurences" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Camera trap data are being increasingly used to model multiple species communties. We can use the <code>corrplot</code> package (ADD LINK TO VINGNETTE) to explore the co-occurrence patterns of the species in the community.</p>
<p>The plot below uses the ‘total_obs’ dataframe, and performs pairwise correlations between the species on the left, and the species on the top row. Blue colours mean that at locations where you have high counts of one species, you also have high counts of the paired species. Red colours mean if you have high counts of one species, then you are likely to have low counts of the species pair (or vice-versa).</p>
<p>We implement a more nuanced form of this data analysis in <strong>A LATER CHAPTER</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="analysis-data-exploration.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb20-2"><a href="analysis-data-exploration.html#cb20-2" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> total_obs[, sp_summary<span class="sc">$</span>sp]</span>
<span id="cb20-3"><a href="analysis-data-exploration.html#cb20-3" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> tmp[<span class="fu">colSums</span>(tmp)<span class="sc">&gt;</span><span class="dv">5</span>]</span>
<span id="cb20-4"><a href="analysis-data-exploration.html#cb20-4" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">cor</span>(tmp)</span>
<span id="cb20-5"><a href="analysis-data-exploration.html#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="analysis-data-exploration.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(M, <span class="at">method=</span><span class="st">&quot;color&quot;</span>, <span class="co">#col=matrix(col(200)),</span></span>
<span id="cb20-7"><a href="analysis-data-exploration.html#cb20-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">type=</span><span class="st">&quot;upper&quot;</span>, <span class="at">order=</span><span class="st">&quot;hclust&quot;</span>,</span>
<span id="cb20-8"><a href="analysis-data-exploration.html#cb20-8" aria-hidden="true" tabindex="-1"></a>         <span class="co">#addCoef.col = &quot;black&quot;, # Add codepicient of correlation</span></span>
<span id="cb20-9"><a href="analysis-data-exploration.html#cb20-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">tl.col=</span><span class="st">&quot;black&quot;</span>, <span class="at">tl.srt=</span><span class="dv">45</span>, <span class="co">#Text label color and rotation</span></span>
<span id="cb20-10"><a href="analysis-data-exploration.html#cb20-10" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Combine with significance</span></span>
<span id="cb20-11"><a href="analysis-data-exploration.html#cb20-11" aria-hidden="true" tabindex="-1"></a>         <span class="co">#p.mat = p.mat, sig.level = 0.01, insig = &quot;blank&quot;,</span></span>
<span id="cb20-12"><a href="analysis-data-exploration.html#cb20-12" aria-hidden="true" tabindex="-1"></a>         <span class="co"># hide correlation codepicient on the principal diagonal</span></span>
<span id="cb20-13"><a href="analysis-data-exploration.html#cb20-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">diag=</span><span class="cn">FALSE</span></span>
<span id="cb20-14"><a href="analysis-data-exploration.html#cb20-14" aria-hidden="true" tabindex="-1"></a>         )</span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
<div id="covariate-plots" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> Covariate plots<a href="analysis-data-exploration.html#covariate-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>CHRIS</strong> DO SOME EXAMPLE BIVARIATE CORRELATIONS</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analysis-covariates.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="community-composition.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-exploration.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Intro-to-data-analysis.pdf", "Intro-to-data-analysis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
