<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Community composition | An Introduction to Camera Trap Data Management and Analysis in R</title>
  <meta name="description" content="Materials for the three day camera trap data management and analysis course" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Community composition | An Introduction to Camera Trap Data Management and Analysis in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Materials for the three day camera trap data management and analysis course" />
  <meta name="github-repo" content="WildCoLab/Introduction-to-Camera-Trap-Data-Management-and-Analysis-in-R" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Community composition | An Introduction to Camera Trap Data Management and Analysis in R" />
  
  <meta name="twitter:description" content="Materials for the three day camera trap data management and analysis course" />
  

<meta name="author" content="Christopher Beirne and the Wildlife Coexistence Lab, UBC" />


<meta name="date" content="2022-10-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="analysis-data-exploration.html"/>
<link rel="next" href="habitat-use.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">WildCo Data Analysis Intro</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#ethos"><i class="fa fa-check"></i><b>1.1</b> Ethos</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-this-course-is"><i class="fa fa-check"></i><b>1.2</b> What this course is</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#what-this-course-is-not"><i class="fa fa-check"></i><b>1.3</b> What this course is not</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.4</b> How to use this book</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#get-in-touch"><i class="fa fa-check"></i><b>1.5</b> Get in touch</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html"><i class="fa fa-check"></i><b>2</b> Preparing for the course</a>
<ul>
<li class="chapter" data-level="2.1" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#download-r-studio"><i class="fa fa-check"></i><b>2.1</b> Download R Studio</a></li>
<li class="chapter" data-level="2.2" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#create-an-r-project"><i class="fa fa-check"></i><b>2.2</b> Create an R project</a></li>
<li class="chapter" data-level="2.3" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#download-the-data-files"><i class="fa fa-check"></i><b>2.3</b> Download the data files</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#the-example-dataset"><i class="fa fa-check"></i><b>2.3.1</b> The ‘Example’ dataset</a></li>
<li class="chapter" data-level="2.3.2" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#your-dataset"><i class="fa fa-check"></i><b>2.3.2</b> “Your” dataset</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="preparing-for-the-course.html"><a href="preparing-for-the-course.html#install-the-required-packages"><i class="fa fa-check"></i><b>2.4</b> Install the required packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html"><i class="fa fa-check"></i><b>3</b> Preprocessing and labelling</a>
<ul>
<li class="chapter" data-level="3.1" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#data-storage"><i class="fa fa-check"></i><b>3.1</b> Data storage</a></li>
<li class="chapter" data-level="3.2" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#preprocessing"><i class="fa fa-check"></i><b>3.2</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#renaming"><i class="fa fa-check"></i><b>3.2.1</b> Renaming</a></li>
<li class="chapter" data-level="3.2.2" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#automated-labelers"><i class="fa fa-check"></i><b>3.2.2</b> Automated Labelers</a></li>
<li class="chapter" data-level="3.2.3" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#timelapse-extraction"><i class="fa fa-check"></i><b>3.2.3</b> Timelapse extraction</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#labelling"><i class="fa fa-check"></i><b>3.3</b> Labelling</a></li>
<li class="chapter" data-level="3.4" data-path="preprocessing-and-labelling.html"><a href="preprocessing-and-labelling.html#update-deployment-end-dates"><i class="fa fa-check"></i><b>3.4</b> Update deployment end dates</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="standard.html"><a href="standard.html"><i class="fa fa-check"></i><b>4</b> Metadata standardisation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="standard.html"><a href="standard.html#the-wildlife-insights-minimum-metadata-standards"><i class="fa fa-check"></i><b>4.1</b> The Wildlife Insights Minimum Metadata Standards</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="standard.html"><a href="standard.html#project-data"><i class="fa fa-check"></i><b>4.1.1</b> Project data</a></li>
<li class="chapter" data-level="4.1.2" data-path="standard.html"><a href="standard.html#detection-data"><i class="fa fa-check"></i><b>4.1.2</b> Detection data</a></li>
<li class="chapter" data-level="4.1.3" data-path="standard.html"><a href="standard.html#deployment-data"><i class="fa fa-check"></i><b>4.1.3</b> Deployment data</a></li>
<li class="chapter" data-level="4.1.4" data-path="standard.html"><a href="standard.html#camera-inventory"><i class="fa fa-check"></i><b>4.1.4</b> Camera inventory</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="error-checking.html"><a href="error-checking.html"><i class="fa fa-check"></i><b>5</b> Error checking</a>
<ul>
<li class="chapter" data-level="5.1" data-path="error-checking.html"><a href="error-checking.html#standardised-exploration-script"><i class="fa fa-check"></i><b>5.1</b> Standardised exploration script</a></li>
<li class="chapter" data-level="5.2" data-path="error-checking.html"><a href="error-checking.html#format-your-dates"><i class="fa fa-check"></i><b>5.2</b> Format your dates</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="error-checking.html"><a href="error-checking.html#lubridate-examples"><i class="fa fa-check"></i><b>5.2.1</b> Lubridate examples</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-checking.html"><a href="error-checking.html#deployment-dates"><i class="fa fa-check"></i><b>5.2.2</b> Deployment dates</a></li>
<li class="chapter" data-level="5.2.3" data-path="error-checking.html"><a href="error-checking.html#image-dates"><i class="fa fa-check"></i><b>5.2.3</b> Image dates</a></li>
<li class="chapter" data-level="5.2.4" data-path="error-checking.html"><a href="error-checking.html#basic-summaries"><i class="fa fa-check"></i><b>5.2.4</b> Basic summaries</a></li>
<li class="chapter" data-level="5.2.5" data-path="error-checking.html"><a href="error-checking.html#quick-error-checks"><i class="fa fa-check"></i><b>5.2.5</b> Quick error checks</a></li>
<li class="chapter" data-level="5.2.6" data-path="error-checking.html"><a href="error-checking.html#camera-activity"><i class="fa fa-check"></i><b>5.2.6</b> Camera activity</a></li>
<li class="chapter" data-level="5.2.7" data-path="error-checking.html"><a href="error-checking.html#detection-check"><i class="fa fa-check"></i><b>5.2.7</b> Detection check</a></li>
<li class="chapter" data-level="5.2.8" data-path="error-checking.html"><a href="error-checking.html#taxonomy-check"><i class="fa fa-check"></i><b>5.2.8</b> Taxonomy check</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="error-checking.html"><a href="error-checking.html#diel-activity-check"><i class="fa fa-check"></i><b>5.3</b> Diel activity check</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="error-checking.html"><a href="error-checking.html#other-labelling-attributes"><i class="fa fa-check"></i><b>5.3.1</b> Other labelling attributes</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="error-checking.html"><a href="error-checking.html#common-analysis-data-formats"><i class="fa fa-check"></i><b>5.4</b> Common analysis data formats</a></li>
<li class="chapter" data-level="5.5" data-path="error-checking.html"><a href="error-checking.html#independent-detections"><i class="fa fa-check"></i><b>5.5</b> Independent detections</a></li>
<li class="chapter" data-level="5.6" data-path="error-checking.html"><a href="error-checking.html#effort-look-up"><i class="fa fa-check"></i><b>5.6</b> Effort look-up</a></li>
<li class="chapter" data-level="5.7" data-path="error-checking.html"><a href="error-checking.html#countsdetections-by-time-interval"><i class="fa fa-check"></i><b>5.7</b> Counts/detections by time interval</a></li>
<li class="chapter" data-level="5.8" data-path="error-checking.html"><a href="error-checking.html#our-data"><i class="fa fa-check"></i><b>5.8</b> Our data</a></li>
<li class="chapter" data-level="5.9" data-path="error-checking.html"><a href="error-checking.html#filter-to-target-species"><i class="fa fa-check"></i><b>5.9</b> 1) Filter to target species</a></li>
<li class="chapter" data-level="5.10" data-path="error-checking.html"><a href="error-checking.html#create-a-camera-activity-lookup"><i class="fa fa-check"></i><b>5.10</b> 2) Create a camera activity lookup</a></li>
<li class="chapter" data-level="5.11" data-path="error-checking.html"><a href="error-checking.html#determine-independent-camera-detections"><i class="fa fa-check"></i><b>5.11</b> 3)Determine ‘independent’ camera detections</a></li>
<li class="chapter" data-level="5.12" data-path="error-checking.html"><a href="error-checking.html#creating-analysis-dataframes"><i class="fa fa-check"></i><b>5.12</b> 4) Creating analysis dataframes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="analysis-covariates.html"><a href="analysis-covariates.html"><i class="fa fa-check"></i><b>6</b> Analysis covariates</a>
<ul>
<li class="chapter" data-level="6.1" data-path="analysis-covariates.html"><a href="analysis-covariates.html#custom-covariates"><i class="fa fa-check"></i><b>6.1</b> Custom covariates</a></li>
<li class="chapter" data-level="6.2" data-path="analysis-covariates.html"><a href="analysis-covariates.html#species-traits"><i class="fa fa-check"></i><b>6.2</b> Species traits</a></li>
<li class="chapter" data-level="6.3" data-path="analysis-covariates.html"><a href="analysis-covariates.html#spatial-covariates"><i class="fa fa-check"></i><b>6.3</b> Spatial covariates</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html"><i class="fa fa-check"></i><b>7</b> Analysis data exploration</a>
<ul>
<li class="chapter" data-level="7.1" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#final-locations-plot"><i class="fa fa-check"></i><b>7.1</b> Final locations plot</a></li>
<li class="chapter" data-level="7.2" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#independent-detections-summary"><i class="fa fa-check"></i><b>7.2</b> Independent detections summary</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#total-number-of-captures"><i class="fa fa-check"></i><b>7.2.1</b> Total number of captures</a></li>
<li class="chapter" data-level="7.2.2" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#raw-occupancy"><i class="fa fa-check"></i><b>7.2.2</b> Raw occupancy</a></li>
<li class="chapter" data-level="7.2.3" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#comparison-plot"><i class="fa fa-check"></i><b>7.2.3</b> Comparison plot</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#temporal-patterns-in-capture-rates"><i class="fa fa-check"></i><b>7.3</b> Temporal patterns in capture rates</a></li>
<li class="chapter" data-level="7.4" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#species-specific-capture-rates"><i class="fa fa-check"></i><b>7.4</b> Species specific capture rates</a></li>
<li class="chapter" data-level="7.5" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#spatial-patterns-in-capture-rates"><i class="fa fa-check"></i><b>7.5</b> Spatial patterns in capture rates</a></li>
<li class="chapter" data-level="7.6" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#species-co-occurences"><i class="fa fa-check"></i><b>7.6</b> Species co-occurences</a></li>
<li class="chapter" data-level="7.7" data-path="analysis-data-exploration.html"><a href="analysis-data-exploration.html#covariate-plots"><i class="fa fa-check"></i><b>7.7</b> Covariate plots</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="community-composition.html"><a href="community-composition.html"><i class="fa fa-check"></i><b>8</b> Community composition</a>
<ul>
<li class="chapter" data-level="8.1" data-path="community-composition.html"><a href="community-composition.html#observed-richness"><i class="fa fa-check"></i><b>8.1</b> Observed richness</a></li>
<li class="chapter" data-level="8.2" data-path="community-composition.html"><a href="community-composition.html#estimated-richness"><i class="fa fa-check"></i><b>8.2</b> Estimated richness</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="community-composition.html"><a href="community-composition.html#incidence-patterns"><i class="fa fa-check"></i><b>8.2.1</b> 1) Incidence patterns</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="community-composition.html"><a href="community-composition.html#basic-results-plot"><i class="fa fa-check"></i><b>8.3</b> Basic results plot</a></li>
<li class="chapter" data-level="8.4" data-path="community-composition.html"><a href="community-composition.html#sampling-unit-based-incidence-data"><i class="fa fa-check"></i><b>8.4</b> Sampling-unit-based incidence data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="community-composition.html"><a href="community-composition.html#survey-station-example"><i class="fa fa-check"></i><b>8.4.1</b> Survey station example</a></li>
<li class="chapter" data-level="8.4.2" data-path="community-composition.html"><a href="community-composition.html#sampling-duration-example"><i class="fa fa-check"></i><b>8.4.2</b> Sampling duration example</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="community-composition.html"><a href="community-composition.html#other-diversity-metrics"><i class="fa fa-check"></i><b>8.5</b> Other diversity metrics</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="community-composition.html"><a href="community-composition.html#simpson-and-shannon"><i class="fa fa-check"></i><b>8.5.1</b> Simpson and Shannon</a></li>
<li class="chapter" data-level="8.5.2" data-path="community-composition.html"><a href="community-composition.html#multispecies-occupancy-model"><i class="fa fa-check"></i><b>8.5.2</b> 2) Multispecies occupancy model</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="community-composition.html"><a href="community-composition.html#discussion"><i class="fa fa-check"></i><b>8.6</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="habitat-use.html"><a href="habitat-use.html"><i class="fa fa-check"></i><b>9</b> Habitat use</a>
<ul>
<li class="chapter" data-level="9.1" data-path="habitat-use.html"><a href="habitat-use.html#single-species-habitat-use-model"><i class="fa fa-check"></i><b>9.1</b> Single species habitat use model</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="habitat-use.html"><a href="habitat-use.html#future-additions"><i class="fa fa-check"></i><b>9.1.1</b> Future additions</a></li>
<li class="chapter" data-level="9.1.2" data-path="habitat-use.html"><a href="habitat-use.html#further-reading"><i class="fa fa-check"></i><b>9.1.2</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="habitat-use.html"><a href="habitat-use.html#example-multispecies-model"><i class="fa fa-check"></i><b>9.2</b> Example multispecies model</a></li>
<li class="chapter" data-level="9.3" data-path="habitat-use.html"><a href="habitat-use.html#further-reading-1"><i class="fa fa-check"></i><b>9.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="occupancy.html"><a href="occupancy.html"><i class="fa fa-check"></i><b>10</b> Occupancy</a>
<ul>
<li class="chapter" data-level="10.1" data-path="occupancy.html"><a href="occupancy.html#single-species-occupancy-model"><i class="fa fa-check"></i><b>10.1</b> Single species occupancy model</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="occupancy.html"><a href="occupancy.html#unmarked-package"><i class="fa fa-check"></i><b>10.1.1</b> unmarked package</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="occupancy.html"><a href="occupancy.html#multispecies-occupancy-model-1"><i class="fa fa-check"></i><b>10.2</b> Multispecies occupancy model</a></li>
<li class="chapter" data-level="10.3" data-path="occupancy.html"><a href="occupancy.html#further-reading-2"><i class="fa fa-check"></i><b>10.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="activity.html"><a href="activity.html"><i class="fa fa-check"></i><b>11</b> Activity</a>
<ul>
<li class="chapter" data-level="11.1" data-path="activity.html"><a href="activity.html#example"><i class="fa fa-check"></i><b>11.1</b> Example</a></li>
<li class="chapter" data-level="11.2" data-path="activity.html"><a href="activity.html#further-reading-3"><i class="fa fa-check"></i><b>11.2</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="behavior.html"><a href="behavior.html"><i class="fa fa-check"></i><b>12</b> Behavior</a>
<ul>
<li class="chapter" data-level="12.1" data-path="behavior.html"><a href="behavior.html#further-reading-4"><i class="fa fa-check"></i><b>12.1</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="interactions.html"><a href="interactions.html"><i class="fa fa-check"></i><b>13</b> Interactions</a>
<ul>
<li class="chapter" data-level="13.1" data-path="interactions.html"><a href="interactions.html#worked-example"><i class="fa fa-check"></i><b>13.1</b> Worked example</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="density.html"><a href="density.html"><i class="fa fa-check"></i><b>14</b> Density</a>
<ul>
<li class="chapter" data-level="14.1" data-path="density.html"><a href="density.html#spatial-count"><i class="fa fa-check"></i><b>14.1</b> Spatial count</a></li>
<li class="chapter" data-level="14.2" data-path="density.html"><a href="density.html#time-to-event"><i class="fa fa-check"></i><b>14.2</b> Time to event</a></li>
<li class="chapter" data-level="14.3" data-path="density.html"><a href="density.html#comparison"><i class="fa fa-check"></i><b>14.3</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="phenology.html"><a href="phenology.html"><i class="fa fa-check"></i><b>15</b> Phenology</a>
<ul>
<li class="chapter" data-level="15.1" data-path="phenology.html"><a href="phenology.html#worked-example-1"><i class="fa fa-check"></i><b>15.1</b> Worked example</a></li>
<li class="chapter" data-level="15.2" data-path="phenology.html"><a href="phenology.html#further-reading-5"><i class="fa fa-check"></i><b>15.2</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="phenology-1.html"><a href="phenology-1.html"><i class="fa fa-check"></i><b>16</b> Phenology</a>
<ul>
<li class="chapter" data-level="16.1" data-path="phenology-1.html"><a href="phenology-1.html#worked-example-2"><i class="fa fa-check"></i><b>16.1</b> Worked example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to Camera Trap Data Management and Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="community-composition" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Community composition<a href="community-composition.html#community-composition" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>By Christopher Beirne and Laura Stewart</strong></p>
<p>One of the most fundamental questions researchers and practitioners want to answer with camera traps is <em>how many species are there in my survey area?</em>. However, exploring patterns in species richness can also tell us if we have performed ‘enough’ surveying.</p>
<div id="observed-richness" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Observed richness<a href="community-composition.html#observed-richness" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The simplest way to quantify species richness is counting the number of species you detect on your camera traps - ‘observed richness’. This is very easy to determine using our species list:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="community-composition.html#cb1-1" aria-hidden="true" tabindex="-1"></a>sp_summary <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_species_list.csv&quot;</span>, <span class="at">header=</span>T)</span>
<span id="cb1-2"><a href="community-composition.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Use nrow() to count the number of species</span></span></code></pre></div>
<p>In the case of the example data set, this represents 19 species.</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
class
</th>
<th style="text-align:left;">
order
</th>
<th style="text-align:left;">
family
</th>
<th style="text-align:left;">
genus
</th>
<th style="text-align:left;">
species
</th>
<th style="text-align:left;">
common_name
</th>
<th style="text-align:left;">
sp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Artiodactyla
</td>
<td style="text-align:left;">
Cervidae
</td>
<td style="text-align:left;">
Alces
</td>
<td style="text-align:left;">
alces
</td>
<td style="text-align:left;">
Eurasian elk
</td>
<td style="text-align:left;">
Alces.alces
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Artiodactyla
</td>
<td style="text-align:left;">
Cervidae
</td>
<td style="text-align:left;">
Cervus
</td>
<td style="text-align:left;">
canadensis
</td>
<td style="text-align:left;">
elk
</td>
<td style="text-align:left;">
Cervus.canadensis
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Artiodactyla
</td>
<td style="text-align:left;">
Cervidae
</td>
<td style="text-align:left;">
Odocoileus
</td>
<td style="text-align:left;">
virginianus
</td>
<td style="text-align:left;">
white-tailed deer
</td>
<td style="text-align:left;">
Odocoileus.virginianus
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Artiodactyla
</td>
<td style="text-align:left;">
Cervidae
</td>
<td style="text-align:left;">
Rangifer
</td>
<td style="text-align:left;">
tarandus
</td>
<td style="text-align:left;">
reindeer
</td>
<td style="text-align:left;">
Rangifer.tarandus
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Canidae
</td>
<td style="text-align:left;">
Canis
</td>
<td style="text-align:left;">
latrans
</td>
<td style="text-align:left;">
coyote
</td>
<td style="text-align:left;">
Canis.latrans
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Canidae
</td>
<td style="text-align:left;">
Canis
</td>
<td style="text-align:left;">
lupus
</td>
<td style="text-align:left;">
gray wolf
</td>
<td style="text-align:left;">
Canis.lupus
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Canidae
</td>
<td style="text-align:left;">
Vulpes
</td>
<td style="text-align:left;">
vulpes
</td>
<td style="text-align:left;">
red fox
</td>
<td style="text-align:left;">
Vulpes.vulpes
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Felidae
</td>
<td style="text-align:left;">
Lynx
</td>
<td style="text-align:left;">
canadensis
</td>
<td style="text-align:left;">
Canada lynx
</td>
<td style="text-align:left;">
Lynx.canadensis
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Felidae
</td>
<td style="text-align:left;">
Puma
</td>
<td style="text-align:left;">
concolor
</td>
<td style="text-align:left;">
puma
</td>
<td style="text-align:left;">
Puma.concolor
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Mustelidae
</td>
<td style="text-align:left;">
Gulo
</td>
<td style="text-align:left;">
gulo
</td>
<td style="text-align:left;">
wolverine
</td>
<td style="text-align:left;">
Gulo.gulo
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Mustelidae
</td>
<td style="text-align:left;">
Lontra
</td>
<td style="text-align:left;">
canadensis
</td>
<td style="text-align:left;">
Northern American river otter
</td>
<td style="text-align:left;">
Lontra.canadensis
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Mustelidae
</td>
<td style="text-align:left;">
Martes
</td>
<td style="text-align:left;">
americana
</td>
<td style="text-align:left;">
American marten
</td>
<td style="text-align:left;">
Martes.americana
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Mustelidae
</td>
<td style="text-align:left;">
Martes
</td>
<td style="text-align:left;">
pennanti
</td>
<td style="text-align:left;">
fisher
</td>
<td style="text-align:left;">
Martes.pennanti
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Carnivora
</td>
<td style="text-align:left;">
Ursidae
</td>
<td style="text-align:left;">
Ursus
</td>
<td style="text-align:left;">
americanus
</td>
<td style="text-align:left;">
American black bear
</td>
<td style="text-align:left;">
Ursus.americanus
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Lagomorpha
</td>
<td style="text-align:left;">
Leporidae
</td>
<td style="text-align:left;">
Lepus
</td>
<td style="text-align:left;">
americanus
</td>
<td style="text-align:left;">
snowshoe hare
</td>
<td style="text-align:left;">
Lepus.americanus
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Lagomorpha
</td>
<td style="text-align:left;">
Leporidae
</td>
<td style="text-align:left;">
Oryctolagus
</td>
<td style="text-align:left;">
cuniculus
</td>
<td style="text-align:left;">
rabbit
</td>
<td style="text-align:left;">
Oryctolagus.cuniculus
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Rodentia
</td>
<td style="text-align:left;">
Castoridae
</td>
<td style="text-align:left;">
Castor
</td>
<td style="text-align:left;">
canadensis
</td>
<td style="text-align:left;">
American beaver
</td>
<td style="text-align:left;">
Castor.canadensis
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Rodentia
</td>
<td style="text-align:left;">
Sciuridae
</td>
<td style="text-align:left;">
Marmota
</td>
<td style="text-align:left;">
monax
</td>
<td style="text-align:left;">
woodchuck
</td>
<td style="text-align:left;">
Marmota.monax
</td>
</tr>
<tr>
<td style="text-align:left;">
Mammalia
</td>
<td style="text-align:left;">
Rodentia
</td>
<td style="text-align:left;">
Sciuridae
</td>
<td style="text-align:left;">
Tamiasciurus
</td>
<td style="text-align:left;">
hudsonicus
</td>
<td style="text-align:left;">
American red squirrel
</td>
<td style="text-align:left;">
Tamiasciurus.hudsonicus
</td>
</tr>
</tbody>
</table>
<p>It is possible to compare observed richness across different strata of interest, <strong>however</strong> survey effort must be identical between your comparison strata. This very rarely the case in camera trap studies where cameras break, run out of battery or are deployed for different lengths of time.</p>
<p>The number of species you detect is a function of the amount of effort you spent surveying or the number of individuals detected - the longer a camera is active/the more individuals detected the more species it will detect. Observed richness typically underestimates true richness. Consequently, We need a way of comparing species richness which accounts in some way for survey effort.</p>
</div>
<div id="estimated-richness" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Estimated richness<a href="community-composition.html#estimated-richness" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are two commonly used ways to account for survey effort when estimating species richness using camera traps:</p>
<ol style="list-style-type: lower-roman">
<li>using the incidence of rare species to ‘correct’ observed richness (non-parametric estimators)</li>
<li>using multispecies occupancy models to account for the species present but not observed</li>
</ol>
<div id="incidence-patterns" class="section level3 hasAnchor" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> 1) Incidence patterns<a href="community-composition.html#incidence-patterns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="inext-package" class="section level4 hasAnchor" number="8.2.1.1">
<h4><span class="header-section-number">8.2.1.1</span> iNext package<a href="community-composition.html#inext-package" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <a href="https://cran.r-project.org/web/packages/iNEXT/">iNext package</a> (INterpolation and EXTrapolation of species richness) - is an easy to use and comes with a wealth of plotting functions - see the <a href="https://cran.r-project.org/web/packages/iNEXT/vignettes/Introduction.pdf">iNext Quick Introduction</a> for a great walk through tutorial. Its core functionality is based on:</p>
<p><em>Chao et. al. (2014) Rarefaction and extrapolation with Hill numbers: a framework for sampling and estimation in species diversity studies. Ecological Monographs</em></p>
<p>To run this example code you will need <code>iNEXT</code> , <code>ggplot2</code>, and <code>gridExtra</code> packages.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="community-composition.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(iNEXT); <span class="fu">library</span>(ggplot2); <span class="fu">library</span>(gridExtra)</span></code></pre></div>
<p><strong>Single strata</strong></p>
<p>You may want to see if your camera project has sufficient survey effort to capture the species within the focal area. To do this we can produce species accumulation curves across the site as a whole. Species accumulation curves plot the increase in species richness as we add individuals or survey units. If the curve plateaus, flattens, then that suggests you have sampled the majority of the species in your survey area.</p>
<p><em>Data formatting</em></p>
<p>Applying the iNEXT functions to camera trap data is perhaps simplest using ‘abundance’ function, this represents the frequency with which each species is detected. Implementing the abundance data requires a string of abundance frequencies contained within a list. We can create this format from the total observations dataset we crated:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="community-composition.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the total observations dataset</span></span>
<span id="cb3-2"><a href="community-composition.html#cb3-2" aria-hidden="true" tabindex="-1"></a>total_obs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_30min_independent_total_observations.csv&quot;</span>, <span class="at">header=</span>T)</span>
<span id="cb3-3"><a href="community-composition.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="community-composition.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make an empty list to store our data</span></span>
<span id="cb3-5"><a href="community-composition.html#cb3-5" aria-hidden="true" tabindex="-1"></a>project_level <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb3-6"><a href="community-composition.html#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum all of the observations of each species (colSums), and then make it an element in the list</span></span>
<span id="cb3-7"><a href="community-composition.html#cb3-7" aria-hidden="true" tabindex="-1"></a>project_level[[<span class="dv">1</span>]]<span class="ot">&lt;-</span> <span class="fu">colSums</span>(total_obs[, sp_summary<span class="sc">$</span>sp])</span>
<span id="cb3-8"><a href="community-composition.html#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Give it a name</span></span>
<span id="cb3-9"><a href="community-composition.html#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(project_level) <span class="ot">&lt;-</span> <span class="st">&quot;project_level&quot;</span></span></code></pre></div>
<p>This will produce a list object which looks like this:</p>
<pre><code>## $project_level
##             Alces.alces       Cervus.canadensis  Odocoileus.virginianus 
##                     554                       2                    1845 
##       Rangifer.tarandus           Canis.latrans             Canis.lupus 
##                     470                     162                     510 
##           Vulpes.vulpes         Lynx.canadensis           Puma.concolor 
##                      24                     185                       1 
##               Gulo.gulo       Lontra.canadensis        Martes.americana 
##                       3                       4                      89 
##         Martes.pennanti        Ursus.americanus        Lepus.americanus 
##                       9                     855                     793 
##   Oryctolagus.cuniculus       Castor.canadensis           Marmota.monax 
##                       6                       4                       1 
## Tamiasciurus.hudsonicus 
##                     125</code></pre>
<p><strong>Analysis</strong></p>
<p>Once you have created your list, it is simple to run a basic iNEXT analysis, and create a graphs of the result. Below we show a basic iNEXT call with some of its default arguments.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="community-composition.html#cb5-1" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">iNEXT</span>(project_level,          <span class="co"># The data frame</span></span>
<span id="cb5-2"><a href="community-composition.html#cb5-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">q=</span><span class="dv">0</span>,                    <span class="co"># The type of diversity estimator (see below)</span></span>
<span id="cb5-3"><a href="community-composition.html#cb5-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">datatype=</span><span class="st">&quot;abundance&quot;</span>,   <span class="co"># The type of analysis</span></span>
<span id="cb5-4"><a href="community-composition.html#cb5-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">knots=</span><span class="dv">40</span>,               <span class="co"># The number of data points in your line (more = smoother)</span></span>
<span id="cb5-5"><a href="community-composition.html#cb5-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">se=</span><span class="cn">TRUE</span>,                <span class="co"># Logical statement if you want confidence intervals</span></span>
<span id="cb5-6"><a href="community-composition.html#cb5-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">conf=</span><span class="fl">0.95</span>,              <span class="co"># The level of confidence intervals</span></span>
<span id="cb5-7"><a href="community-composition.html#cb5-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">nboot=</span><span class="dv">50</span>)               <span class="co"># The number of replications to perform - this generates your confidence interval - the bigger the number the longer the run time</span></span></code></pre></div>
<p><strong>a note on q values</strong></p>
<p>The iNEXT package uses the concept of hill numbers to calculate its community indices. The values of q reflect traditional diversity estimators:</p>
<ul>
<li>0 = species richness</li>
<li>1 = Shannon diversity</li>
<li>2 = Simpson diversity</li>
</ul>
<p><strong>a note on coverage</strong></p>
<p>Whilst many uses will be familier with diversity indices, iNEXT also calculates ‘sample coverage’ - the proportion of the total number of individuals that belong to the species detected in the sample. The way to think about this is, if you an an unsurveyed individual to the population you have surveyed, what is the likelyhood it belongs to the species not already detected? If your sample coverage is high, this probability will be very low!</p>
<p>We will start with observed richness.</p>
<p>The <code>iNEXT()</code> function returns the “iNEXT” object including three output lists:
- <code>$DataInfo</code> for summarizing data information
- <code>$iNextEst</code> for showing size- and coverage-based diversity estimates along with related
statistics for a series of rarefied and extrapolated samples
- <code>$AsyEst</code> for showing asymptotic diversity estimates along with related statistics.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="community-composition.html#cb6-1" aria-hidden="true" tabindex="-1"></a>out</span></code></pre></div>
<p>Lets check out each one in turn:</p>
<p><code>$DataInfo</code> is shown below, returns summary data such as the reference sample size (n), observed species richness (S.obs - which is hopefully the same as what we calculated above), sample coverage estimate for the reference sample (SC), and the first ten frequency counts (f1‐f10).</p>
<p><img src="images/community_metrics/data_info.PNG" width="324" /></p>
<p><code>$iNextEst</code> output includes two data frames: <code>$size_based</code> and <code>$coverage_based</code>.</p>
<p>Let’s first look at <code>$iNextEst$size_based</code>:</p>
<p><img src="images/community_metrics/size_based.PNG" width="592" /></p>
<p>Next <code>$iNextEst$coverage_based</code>:</p>
<p><img src="images/community_metrics/coverage_based.PNG" width="607" /></p>
<p><code>$AsyEst</code> gives the asymptotic estimates and their related statistics.</p>
<p><img src="images/community_metrics/AsyEst.PNG" width="384" /></p>
<p>One of the powerful elements of iNEXT is that it can extrapolate beyond your data, this is very useful when you do not have equal sample sizes.</p>
</div>
</div>
</div>
<div id="basic-results-plot" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Basic results plot<a href="community-composition.html#basic-results-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="community-composition.html#cb7-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggiNEXT</span>(out, <span class="at">type=</span><span class="dv">1</span>)<span class="sc">+</span> <span class="fu">theme_classic</span>()    <span class="co">#  type 1 = the diversity estimator</span></span>
<span id="cb7-2"><a href="community-composition.html#cb7-2" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggiNEXT</span>(out, <span class="at">type=</span><span class="dv">2</span>)<span class="sc">+</span> <span class="fu">theme_classic</span>()    <span class="co">#  type 2 = the survey coverage</span></span>
<span id="cb7-3"><a href="community-composition.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">nrow =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>At this end of this section we will demonstrate how to create your own plots using the iNEXT output.</p>
<p><strong>Multiple strata</strong></p>
<p>The iNEXT package gets really interesting when we start to compare multiple different strata. e.g. different treatment types or species groupings.</p>
<p>The code to build a multi strata comparison is very similar to that of a single strata, except now you separate the observations into their relevant categories.</p>
<p>We will now compare the different categories in the <strong><em>To make this split, we refer to the ‘camera_locations.csv’ dataframe, which contains the ‘feature_types’ for each camera station. We match the ‘placenames’ in our locations dataframe with the corresponding capture data in <code>total_obs</code> using the <code>%in%</code> command (this is one of our favourite commands). </em></strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="community-composition.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the locations data frame</span></span>
<span id="cb8-2"><a href="community-composition.html#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="community-composition.html#cb8-3" aria-hidden="true" tabindex="-1"></a>locs <span class="ot">&lt;-</span>  <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_camera_locations.csv&quot;</span>)</span>
<span id="cb8-4"><a href="community-composition.html#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="community-composition.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># We first want to create a data subset for each of the strata we are interested in:</span></span>
<span id="cb8-6"><a href="community-composition.html#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="community-composition.html#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># The treatment types for each Deployment.Location.ID are in the sta file</span></span>
<span id="cb8-8"><a href="community-composition.html#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Make an object containing all of the site ID&#39;s for the &quot;Offline&quot; cameras</span></span>
<span id="cb8-9"><a href="community-composition.html#cb8-9" aria-hidden="true" tabindex="-1"></a>off <span class="ot">&lt;-</span> locs<span class="sc">$</span>placename[locs<span class="sc">$</span>feature_type<span class="sc">==</span><span class="st">&quot;Offline&quot;</span>]</span>
<span id="cb8-10"><a href="community-composition.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># And &quot;HumanUse&quot; cameras</span></span>
<span id="cb8-11"><a href="community-composition.html#cb8-11" aria-hidden="true" tabindex="-1"></a>hum <span class="ot">&lt;-</span> locs<span class="sc">$</span>placename[locs<span class="sc">$</span>feature_type<span class="sc">==</span><span class="st">&quot;HumanUse&quot;</span>]</span>
<span id="cb8-12"><a href="community-composition.html#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="community-composition.html#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new empty list</span></span>
<span id="cb8-14"><a href="community-composition.html#cb8-14" aria-hidden="true" tabindex="-1"></a>strata <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb8-15"><a href="community-composition.html#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="community-composition.html#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Only sum the data for each relvent strata</span></span>
<span id="cb8-17"><a href="community-composition.html#cb8-17" aria-hidden="true" tabindex="-1"></a>strata[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">colSums</span>(total_obs[total_obs<span class="sc">$</span>placename <span class="sc">%in%</span> off, sp_summary<span class="sc">$</span>sp])</span>
<span id="cb8-18"><a href="community-composition.html#cb8-18" aria-hidden="true" tabindex="-1"></a>strata[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">colSums</span>(total_obs[total_obs<span class="sc">$</span>placename <span class="sc">%in%</span> hum, sp_summary<span class="sc">$</span>sp])</span>
<span id="cb8-19"><a href="community-composition.html#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Give them names</span></span>
<span id="cb8-20"><a href="community-composition.html#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(strata) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Offline&quot;</span>, <span class="st">&quot;HumanUse&quot;</span>)</span></code></pre></div>
<p>Then, as before, run your iNEXT model and examine the output:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="community-composition.html#cb9-1" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">iNEXT</span>(strata, <span class="at">datatype=</span><span class="st">&quot;abundance&quot;</span>)</span>
<span id="cb9-2"><a href="community-composition.html#cb9-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggiNEXT</span>(out, <span class="at">type=</span><span class="dv">1</span>)<span class="sc">+</span> <span class="fu">theme_classic</span>() </span>
<span id="cb9-3"><a href="community-composition.html#cb9-3" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggiNEXT</span>(out, <span class="at">type=</span><span class="dv">2</span>)<span class="sc">+</span> <span class="fu">theme_classic</span>() </span>
<span id="cb9-4"><a href="community-composition.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">nrow =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>From the plot on the left you can see that the ‘HumanUse’ strata detected more species than the ‘Offline’ strata. The plot on the right suggests that we have likely sampled all of the species that will be detected within these habitats (samples are ‘complete’).</p>
</div>
<div id="sampling-unit-based-incidence-data" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Sampling-unit-based incidence data<a href="community-composition.html#sampling-unit-based-incidence-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The example above is useful, but we typically do not think about our survey effort in terms of the number of individuals we catch, rather we think about the number of camera stations we deploy on the landscape, or perhaps units of time (e.g. camera days).</p>
<p>Performing our species accumulation curves using survey location, rather than individuals encountered, allows us to determine if we have enough survey locations in a given strata to detect all of the species present.</p>
<p>Performing the analyses using camera_days would also give insight into whether we need for survey effort in a given location.</p>
<p>The dataformatting for a sampling-unit based accumulation curve is diffferent to that of an individual-based curve. As before we need a list of strata, however now we need the elements in the list to represent the number of sampling units first, then the number of those unites where a given species was detected follow it:</p>
<div id="survey-station-example" class="section level3 hasAnchor" number="8.4.1">
<h3><span class="header-section-number">8.4.1</span> Survey station example<a href="community-composition.html#survey-station-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lets build this example for survey stations</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="community-composition.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As before we can use out total_obs dataframe.</span></span>
<span id="cb10-2"><a href="community-composition.html#cb10-2" aria-hidden="true" tabindex="-1"></a>inc_dat <span class="ot">&lt;-</span> total_obs <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(sp_summary<span class="sc">$</span>sp, <span class="sc">~+</span><span class="fu">as.logical</span>(.x)))</span>
<span id="cb10-3"><a href="community-composition.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="community-composition.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new empty list</span></span>
<span id="cb10-5"><a href="community-composition.html#cb10-5" aria-hidden="true" tabindex="-1"></a>inc_locations <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb10-6"><a href="community-composition.html#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="community-composition.html#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Only sum the data for each relvent locations</span></span>
<span id="cb10-8"><a href="community-composition.html#cb10-8" aria-hidden="true" tabindex="-1"></a>inc_locations[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">length</span>(off),  <span class="co"># Count the number of stations</span></span>
<span id="cb10-9"><a href="community-composition.html#cb10-9" aria-hidden="true" tabindex="-1"></a>                     <span class="co"># Then subset the detections to those stations, sum the columns, and sort the incidents</span></span>
<span id="cb10-10"><a href="community-composition.html#cb10-10" aria-hidden="true" tabindex="-1"></a>                     inc_dat[inc_dat<span class="sc">$</span>placename <span class="sc">%in%</span> off, sp_summary<span class="sc">$</span>sp] <span class="sc">%&gt;%</span>  <span class="fu">colSums</span>() <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing=</span>T))</span>
<span id="cb10-11"><a href="community-composition.html#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="community-composition.html#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="community-composition.html#cb10-13" aria-hidden="true" tabindex="-1"></a>inc_locations[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">length</span>(hum),  <span class="co"># Count the number of stations</span></span>
<span id="cb10-14"><a href="community-composition.html#cb10-14" aria-hidden="true" tabindex="-1"></a>                     <span class="co"># Then subset the detections to those stations, sum the columns, and sort the incidents</span></span>
<span id="cb10-15"><a href="community-composition.html#cb10-15" aria-hidden="true" tabindex="-1"></a>                     inc_dat[inc_dat<span class="sc">$</span>placename <span class="sc">%in%</span> hum, sp_summary<span class="sc">$</span>sp] <span class="sc">%&gt;%</span>  <span class="fu">colSums</span>() <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing=</span>T))</span>
<span id="cb10-16"><a href="community-composition.html#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="community-composition.html#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Give them names</span></span>
<span id="cb10-18"><a href="community-composition.html#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(inc_locations) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Offline&quot;</span>, <span class="st">&quot;HumanUse&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="community-composition.html#cb11-1" aria-hidden="true" tabindex="-1"></a>out.inc <span class="ot">&lt;-</span> <span class="fu">iNEXT</span>(inc_locations, <span class="at">q=</span><span class="dv">0</span>, <span class="at">datatype=</span><span class="st">&quot;incidence_freq&quot;</span>)</span>
<span id="cb11-2"><a href="community-composition.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample‐size‐based R/E curves</span></span>
<span id="cb11-3"><a href="community-composition.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggiNEXT</span>(out.inc, <span class="at">type=</span><span class="dv">1</span>, <span class="at">color.var=</span><span class="st">&quot;Assemblage&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="community-composition.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_bw</span>() </span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="sampling-duration-example" class="section level3 hasAnchor" number="8.4.2">
<h3><span class="header-section-number">8.4.2</span> Sampling duration example<a href="community-composition.html#sampling-duration-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If we want to explore the species accumulation patterns as a function of the number of survey nights, we can make use of the ‘obs_week’ dataframes.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="community-composition.html#cb12-1" aria-hidden="true" tabindex="-1"></a>week_obs<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/processed_data/AlgarRestorationProject_30min_independent_weekly_observations.csv&quot;</span>, <span class="at">header=</span>T)</span>
<span id="cb12-2"><a href="community-composition.html#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="community-composition.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="community-composition.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># As before we can use out total_obs dataframe.</span></span>
<span id="cb12-5"><a href="community-composition.html#cb12-5" aria-hidden="true" tabindex="-1"></a>inc_dat <span class="ot">&lt;-</span> week_obs <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(sp_summary<span class="sc">$</span>sp, <span class="sc">~+</span><span class="fu">as.logical</span>(.x)))</span>
<span id="cb12-6"><a href="community-composition.html#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="community-composition.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new empty list</span></span>
<span id="cb12-8"><a href="community-composition.html#cb12-8" aria-hidden="true" tabindex="-1"></a>inc_time <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb12-9"><a href="community-composition.html#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="community-composition.html#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Only sum the data for each relvent strata</span></span>
<span id="cb12-11"><a href="community-composition.html#cb12-11" aria-hidden="true" tabindex="-1"></a>inc_time[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">nrow</span>(inc_dat[inc_dat<span class="sc">$</span>placename <span class="sc">%in%</span> off,]),  <span class="co"># Count the number of weeks we have data for in each strata</span></span>
<span id="cb12-12"><a href="community-composition.html#cb12-12" aria-hidden="true" tabindex="-1"></a>                     <span class="co"># Then subset the detections to those stations, sum the columns, and sort the incidents</span></span>
<span id="cb12-13"><a href="community-composition.html#cb12-13" aria-hidden="true" tabindex="-1"></a>                     inc_dat[inc_dat<span class="sc">$</span>placename <span class="sc">%in%</span> off, sp_summary<span class="sc">$</span>sp] <span class="sc">%&gt;%</span>  <span class="fu">colSums</span>() <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing=</span>T))</span>
<span id="cb12-14"><a href="community-composition.html#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="community-composition.html#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="community-composition.html#cb12-16" aria-hidden="true" tabindex="-1"></a>inc_time[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">nrow</span>(inc_dat[inc_dat<span class="sc">$</span>placename <span class="sc">%in%</span> hum,]),  <span class="co"># Count the number of stations</span></span>
<span id="cb12-17"><a href="community-composition.html#cb12-17" aria-hidden="true" tabindex="-1"></a>                     <span class="co"># Then subset the detections to those stations, sum the columns, and sort the incidents</span></span>
<span id="cb12-18"><a href="community-composition.html#cb12-18" aria-hidden="true" tabindex="-1"></a>                     inc_dat[inc_dat<span class="sc">$</span>placename <span class="sc">%in%</span> hum, sp_summary<span class="sc">$</span>sp] <span class="sc">%&gt;%</span>  <span class="fu">colSums</span>() <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing=</span>T))</span>
<span id="cb12-19"><a href="community-composition.html#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="community-composition.html#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Give them names</span></span>
<span id="cb12-21"><a href="community-composition.html#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(inc_time) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Offline&quot;</span>, <span class="st">&quot;HumanUse&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="community-composition.html#cb13-1" aria-hidden="true" tabindex="-1"></a>out.inc <span class="ot">&lt;-</span> <span class="fu">iNEXT</span>(inc_time, <span class="at">q=</span><span class="dv">0</span>, <span class="at">datatype=</span><span class="st">&quot;incidence_freq&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in Fun(x[[i]], q, names(x)[i]): Insufficient data to provide reliable
## estimators and associated s.e.

## Warning in Fun(x[[i]], q, names(x)[i]): Insufficient data to provide reliable
## estimators and associated s.e.</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="community-composition.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample‐size‐based R/E curves</span></span>
<span id="cb15-2"><a href="community-composition.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggiNEXT</span>(out.inc, <span class="at">type=</span><span class="dv">1</span>, <span class="at">color.var=</span><span class="st">&quot;Assemblage&quot;</span>) <span class="sc">+</span></span>
<span id="cb15-3"><a href="community-composition.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_bw</span>() </span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
</div>
<div id="other-diversity-metrics" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Other diversity metrics<a href="community-composition.html#other-diversity-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="simpson-and-shannon" class="section level3 hasAnchor" number="8.5.1">
<h3><span class="header-section-number">8.5.1</span> Simpson and Shannon<a href="community-composition.html#simpson-and-shannon" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One issue with species richness assessments is that they weight all species equally, thus a community with 12 species all present in equal abundances will give you the same richness value as a high skewed community with one highly abundant species, and 11 very rare ones. Consequently, you might want to estimate species diversity.</p>
<p>Luckily, the iNEXT package is well suited for comparisons of diversity indices through the use of hill numbers - of which the ‘q’ value represents the traditional Shannon (q=1) and Simpson (q=2) diversity indices (species richness: q = 0). <em>Note</em> Increasing values of q reduces the influence of rare species on your estimate of community diversity.</p>
<p>For example, we might want to compare the species diversity across our two focal strata:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="community-composition.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We also introduce the object t -&gt; which reflects the range of values over which you want to predict species richness</span></span>
<span id="cb16-2"><a href="community-composition.html#cb16-2" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">iNEXT</span>(inc_time, <span class="at">q=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>) ,<span class="at">datatype=</span><span class="st">&quot;incidence_freq&quot;</span> )</span></code></pre></div>
<pre><code>## Warning in Fun(x[[i]], q, names(x)[i]): Insufficient data to provide reliable
## estimators and associated s.e.

## Warning in Fun(x[[i]], q, names(x)[i]): Insufficient data to provide reliable
## estimators and associated s.e.</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="community-composition.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggiNEXT</span>(out, <span class="at">type=</span><span class="dv">1</span>, <span class="at">facet.var=</span><span class="st">&quot;Order.q&quot;</span>, <span class="at">color.var=</span><span class="st">&quot;Assemblage&quot;</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>() </span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>The plot above shows that the differences between our two strata remain across increasing q values (suggesting that the different inst just driven by several rarely encountered species).</p>
<p>Point estimates and their confidence intervals can also be extracted from iNEXT model objects - but it does require a little data wrangling. For example, if we wanted to directly compare the diversity estimates of our strata at 1000 survey units:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="community-composition.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To generate predictions for specific amounts of survey effort, we make use of the variable t</span></span>
<span id="cb19-2"><a href="community-composition.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># T specifies the values you want iNEXt to calculate diversity for</span></span>
<span id="cb19-3"><a href="community-composition.html#cb19-3" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">iNEXT</span>(inc_time, <span class="at">q=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>) ,<span class="at">datatype=</span><span class="st">&quot;incidence_freq&quot;</span>, <span class="at">size=</span><span class="fu">c</span>(<span class="dv">1000</span>))</span></code></pre></div>
<pre><code>## Warning in Fun(x[[i]], q, names(x)[i]): Insufficient data to provide reliable
## estimators and associated s.e.

## Warning in Fun(x[[i]], q, names(x)[i]): Insufficient data to provide reliable
## estimators and associated s.e.</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="community-composition.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The lapply function applies the same logic across elements in a list</span></span>
<span id="cb21-2"><a href="community-composition.html#cb21-2" aria-hidden="true" tabindex="-1"></a>point_estimate <span class="ot">&lt;-</span> out<span class="sc">$</span>iNextEst<span class="sc">$</span>size_based[out<span class="sc">$</span>iNextEst<span class="sc">$</span>size_based<span class="sc">$</span>t<span class="sc">==</span><span class="dv">1000</span>,] </span>
<span id="cb21-3"><a href="community-composition.html#cb21-3" aria-hidden="true" tabindex="-1"></a>point_estimate</span></code></pre></div>
<pre><code>##    Assemblage    t      Method Order.q        qD    qD.LCL    qD.UCL        SC
## 1     Offline 1000 Rarefaction       0 10.429632  8.793310 12.065955 0.9936851
## 5     Offline 1000 Rarefaction       1  5.176220  4.647971  5.704469 0.9936851
## 9     Offline 1000 Rarefaction       2  3.625471  3.162830  4.088112 0.9936851
## 13   HumanUse 1000 Rarefaction       0 12.203861 11.104158 13.303564 0.9943139
## 17   HumanUse 1000 Rarefaction       1  8.135712  7.703718  8.567707 0.9943139
## 21   HumanUse 1000 Rarefaction       2  7.023530  6.601112  7.445948 0.9943139
##       SC.LCL    SC.UCL
## 1  0.9892543 0.9981159
## 5  0.9892543 0.9981159
## 9  0.9892543 0.9981159
## 13 0.9912546 0.9973733
## 17 0.9912546 0.9973733
## 21 0.9912546 0.9973733</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="community-composition.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a nice ggplot!</span></span>
<span id="cb23-2"><a href="community-composition.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(point_estimate, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.1</span>,<span class="fl">0.9</span>, <span class="fl">1.9</span>,</span>
<span id="cb23-3"><a href="community-composition.html#cb23-3" aria-hidden="true" tabindex="-1"></a>                                <span class="fl">0.1</span>, <span class="fl">1.1</span>, <span class="fl">2.1</span>), <span class="at">y=</span>qD, <span class="at">colour=</span>Assemblage)) <span class="sc">+</span> </span>
<span id="cb23-4"><a href="community-composition.html#cb23-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb23-5"><a href="community-composition.html#cb23-5" aria-hidden="true" tabindex="-1"></a>       <span class="co">#scale_x_discrete(breaks=c(&quot;1&quot;,&quot;2&quot;),labels= c(&quot;1&quot;,&quot;2&quot;)) +</span></span>
<span id="cb23-6"><a href="community-composition.html#cb23-6" aria-hidden="true" tabindex="-1"></a>       <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>qD.LCL, <span class="at">ymax=</span>qD.UCL), <span class="at">width=</span>.<span class="dv">01</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="community-composition.html#cb23-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Diversity&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Diversity at 1000 survey units&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-8"><a href="community-composition.html#cb23-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="Intro-to-data-analysis_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p><strong>Notes</strong>
These two examples just scratch the surface of the functionality of the iNEXT package, and the ways of using it with camera data.</p>
<p><strong>Examples</strong></p>
<p>Some examples of using iNEXT with camera trap data:</p>
<p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0126373">Cusack et al. 2015</a> Random versus Game Trail-Based Camera Trap Placement Strategy for Monitoring Terrestrial Mammal Communities</p>
<p><a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/2041-210X.13370">Kays et al. 2020</a> An empirical evaluation of camera trap study design: How many, how long and when?</p>
<p><a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/1365-2664.13074">Semper-Pascual et a. 2018</a> Mapping extinction debt highlights conservation opportunities for birds and mammals in the South American Chaco</p>
<p><strong>Publishing note</strong></p>
<p>If you publish your work based on the results from the iNEXT package, you should make references to the
following methodology paper (Chao et al. 2014) and the application paper (Hsieh, Ma &amp; Chao, 2016):</p>
<p>Chao, A., Gotelli, N.J., Hsieh, T.C., Sander, E.L., Ma, K.H., Colwell, R.K. &amp; Ellison, A.M. (2014)
Rarefaction and extrapolation with Hill numbers: a framework for sampling and estimation in species
diversity studies. Ecological Monographs, 84, 45–67.</p>
<p>Hsieh, T.C., Ma, K.H. &amp; Chao, A. (2016) iNEXT: An R package for interpolation and</p>
</div>
<div id="multispecies-occupancy-model" class="section level3 hasAnchor" number="8.5.2">
<h3><span class="header-section-number">8.5.2</span> 2) Multispecies occupancy model<a href="community-composition.html#multispecies-occupancy-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It is also possible to estimate species richness in a given area/strata using multispecies occupancy models.</p>
<p>For an example with code in the appendices see:</p>
<p><a href="https://besjournals.onlinelibrary.wiley.com/doi/full/10.1111/1365-2664.12399">Tobler, M. et al. Spatiotemporal hierarchical modelling of species richness and occupancy using camera trap data. J. Appl. Ecol. (2015).</a></p>
</div>
</div>
<div id="discussion" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Discussion<a href="community-composition.html#discussion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>dicussion of further work and limitations coming soon!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="analysis-data-exploration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="habitat-use.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-community_metrics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Intro-to-data-analysis.pdf", "Intro-to-data-analysis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
